<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01 - Begi</title><meta name=author content="Kendrick"><meta name=author-link content="https://kendrickcheung.github.io/"><meta name=description content="æ³¨æ„ æœ¬æ–‡å†…å®¹æ¥æºäºï¼šã€Githubã€‘åç«¯é¢è¯•é¢˜é›† ğŸ¦ å…³äºæ•´å‹åˆ‡â½šçš„åˆå§‹åŒ–ï¼Œä¸‹â¾¯æ­£ç¡®çš„æ˜¯ï¼Ÿ A. s := make([]int) B. s := make([]int, 0) C. s := make([]int, 5, 10) D. s := []int{1, 2, 3, 4, 5} --æŸ¥çœ‹"><meta name=keywords content="interview,Golang"><meta itemprop=name content="ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01"><meta itemprop=description content="æ³¨æ„ æœ¬æ–‡å†…å®¹æ¥æºäºï¼šã€Githubã€‘åç«¯é¢è¯•é¢˜é›† ğŸ¦ å…³äºæ•´å‹åˆ‡â½šçš„åˆå§‹åŒ–ï¼Œä¸‹â¾¯æ­£ç¡®çš„æ˜¯ï¼Ÿ A. s := make([]int) B. s := make([]int, 0) C. s := make([]int, 5, 10) D. s := []int{1, 2, 3, 4, 5} --æŸ¥çœ‹"><meta itemprop=datePublished content="2022-10-15T23:24:40+08:00"><meta itemprop=dateModified content="2023-02-18T01:24:44+00:00"><meta itemprop=wordCount content="8593"><meta itemprop=image content="https://kendrickcheung.github.io/logo.png"><meta itemprop=keywords content="interview,Golang,"><meta property="og:title" content="ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01"><meta property="og:description" content="æ³¨æ„ æœ¬æ–‡å†…å®¹æ¥æºäºï¼šã€Githubã€‘åç«¯é¢è¯•é¢˜é›† ğŸ¦ å…³äºæ•´å‹åˆ‡â½šçš„åˆå§‹åŒ–ï¼Œä¸‹â¾¯æ­£ç¡®çš„æ˜¯ï¼Ÿ A. s := make([]int) B. s := make([]int, 0) C. s := make([]int, 5, 10) D. s := []int{1, 2, 3, 4, 5} --æŸ¥çœ‹"><meta property="og:type" content="article"><meta property="og:url" content="https://kendrickcheung.github.io/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8601/"><meta property="og:image" content="https://kendrickcheung.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-15T23:24:40+08:00"><meta property="article:modified_time" content="2023-02-18T01:24:44+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kendrickcheung.github.io/logo.png"><meta name=twitter:title content="ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01"><meta name=twitter:description content="æ³¨æ„ æœ¬æ–‡å†…å®¹æ¥æºäºï¼šã€Githubã€‘åç«¯é¢è¯•é¢˜é›† ğŸ¦ å…³äºæ•´å‹åˆ‡â½šçš„åˆå§‹åŒ–ï¼Œä¸‹â¾¯æ­£ç¡®çš„æ˜¯ï¼Ÿ A. s := make([]int) B. s := make([]int, 0) C. s := make([]int, 5, 10) D. s := []int{1, 2, 3, 4, 5} --æŸ¥çœ‹"><meta name=application-name content="Begi"><meta name=apple-mobile-web-app-title content="Begi"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=lamb.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://kendrickcheung.github.io/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8601/><link rel=prev href=https://kendrickcheung.github.io/go%E8%AF%AD%E8%A8%80%E9%9D%A2%E8%AF%95%E9%A2%98/><link rel=next href=https://kendrickcheung.github.io/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8602/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/kendrickcheung.github.io\/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8601\/"},"image":[{"@type":"ImageObject","url":"https:\/\/kendrickcheung.github.io\/images\/Apple-Devices-Preview.jpg","width":1842,"height":1036}],"genre":"posts","keywords":"interview, Golang","wordcount":8593,"url":"https:\/\/kendrickcheung.github.io\/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8601\/","datePublished":"2022-10-15T23:24:40+08:00","dateModified":"2023-02-18T01:24:44+00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Kendrick","logo":{"@type":"ImageObject","url":"https:\/\/kendrickcheung.github.io\/images\/study-avatar.png","width":1024,"height":1024}},"author":{"@type":"Person","name":"Kendrick"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title=Begi><img class="lazyload logo" src=/svg/loading.min.svg data-src=/lamb.svg data-srcset="/lamb.svg, /lamb.svg 1.5x, /lamb.svg 2x" data-sizes=auto alt=Begi title=Begi><span class=header-title-text>Begi</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> æ‰€æœ‰æ–‡ç« </a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> åˆ†ç±»</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> æ ‡ç­¾</a></li><li class=menu-item><a class=menu-link href=/friends/ title=å‹æƒ…é“¾æ¥><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden=true></i> å‹é“¾</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> å…³äº</a></li><li class="menu-item delimiter"></li><li class="menu-item language"><span role=button aria-label=é€‰æ‹©è¯­è¨€ title=é€‰æ‹©è¯­è¨€>ç®€ä½“ä¸­æ–‡<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item>æ²¡æœ‰æ›´å¤šç¿»è¯‘</li></ul></li><li class="menu-item search" id=search-desktop><input type=text placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹ ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Begi><img class="lazyload logo" src=/svg/loading.min.svg data-src=/lamb.svg data-srcset="/lamb.svg, /lamb.svg 1.5x, /lamb.svg 2x" data-sizes=auto alt=/lamb.svg title=/lamb.svg><span class=header-title-text>Begi</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹ ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></li><li class=menu-item><a class=menu-link href=/posts/><i class="fa-solid fa-archive fa-fw fa-sm" aria-hidden=true></i> æ‰€æœ‰æ–‡ç« </a></li><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> åˆ†ç±»</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> æ ‡ç­¾</a></li><li class=menu-item><a class=menu-link href=/friends/ title=å‹æƒ…é“¾æ¥><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden=true></i> å‹é“¾</a></li><li class=menu-item><a class=menu-link href=/about/><i class="fa-solid fa-info-circle fa-fw fa-sm" aria-hidden=true></i> å…³äº</a></li><li class="menu-item text-center"><a class=menu-link href=https://github.com/kendrickcheung/begi title=GitHub rel="noopener noreferrer" target=_blank><i class='fa-brands fa-github fa-fw' aria-hidden=true></i></a></li><li class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language"><span role=button aria-label=é€‰æ‹©è¯­è¨€ title=é€‰æ‹©è¯­è¨€>ç®€ä½“ä¸­æ–‡<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span>
<select class=language-select onchange="location=this.value"><option disabled>æ²¡æœ‰æ›´å¤šç¿»è¯‘</option></select></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container data-page-style=normal><aside class=toc id=toc-auto><h2 class=toc-title>ç›®å½• <i class="toc-icon fa-solid fa-angle-down fa-fw"></i></h2><div class=toc-content id=toc-content-auto></div></aside><aside class=aside-custom id=aside-sakana><div class=sakana-widget><div class=sakana-item id=takina-widget></div><div class=sakana-item id=chisato-widget></div></div><script>function initSakanaWidget(){const e=SakanaWidget.getCharacter("takina");SakanaWidget.registerCharacter("takina-slow",e),new SakanaWidget({character:"takina-slow",controls:!1,autoFit:!0,stroke:{color:"#b4b4b4",width:2}}).mount("#takina-widget");const t=SakanaWidget.getCharacter("chisato");SakanaWidget.registerCharacter("chisato-slow",t),new SakanaWidget({character:"chisato-slow",controls:!1,autoFit:!0,stroke:{color:"#b4b4b4",width:2}}).mount("#chisato-widget")}</script><script async onload=initSakanaWidget() src=https://cdn.jsdelivr.net/npm/sakana-widget@2.3.0/lib/sakana.min.js></script></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://kendrickcheung.github.io/ title=ä½œè€… target=_blank rel="external nofollow noopener noreferrer author" class=author><img class="lazyload avatar" src=/svg/loading.min.svg data-src=/images/study-avatar.png data-srcset="/images/study-avatar.png, /images/study-avatar.png 1.5x, /images/study-avatar.png 2x" data-sizes=auto alt=Kendrick title=Kendrick width=1024 height=1024>&nbsp;Kendrick</a></span>
<span class=post-category>æ”¶å½•äº <a href=/categories/programming/><i class="fa-regular fa-folder fa-fw"></i>&nbsp;ç¼–ç¨‹</a></span></div><div class=post-meta-line><span title="2022-10-15 23:24:40"><i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-10-15>2022-10-15</time>
</span>&nbsp;<i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 8593 å­—&nbsp;
<i class="fa-regular fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 18 åˆ†é’Ÿ&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title=ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01>
<i class="fa-regular fa-eye fa-fw"></i>&nbsp;<span id=busuanzi_value_page_pv>-</span>&nbsp;æ¬¡é˜…è¯»
</span>&nbsp;</div></div><div class="details toc" id=toc-static kept=false><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fa-solid fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><ul><li><a href=#-å…³äºæ•´å‹åˆ‡çš„åˆå§‹åŒ–ä¸‹æ­£ç¡®çš„æ˜¯>ğŸ¦ å…³äºæ•´å‹åˆ‡â½šçš„åˆå§‹åŒ–ï¼Œä¸‹â¾¯æ­£ç¡®çš„æ˜¯ï¼Ÿ</a></li><li><a href=#-ä¸‹åˆ—ä»£ç æ˜¯å¦ä¼šè§¦å‘å¼‚å¸¸>ğŸ§ ä¸‹åˆ—ä»£ç æ˜¯å¦ä¼šè§¦å‘å¼‚å¸¸ï¼Ÿ</a></li><li><a href=#-å…³äºchannelçš„ç‰¹æ€§ä¸‹è¯´æ³•æ­£ç¡®çš„æ˜¯>ğŸ¨ å…³äºchannelçš„ç‰¹æ€§ï¼Œä¸‹â¾¯è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ</a></li><li><a href=#-ä¸‹åˆ—ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜>ğŸ© ä¸‹åˆ—ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</a></li><li><a href=#-ä¸‹åˆ—ä»£ç è¾“å‡ºä»€ä¹ˆ>ğŸª ä¸‹åˆ—ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ</a></li><li><a href=#-å…³äºç¼“å†²å’Œæœ‰å†²çªçš„channelä¸‹è¯´æ³•æ­£ç¡®çš„æ˜¯>ğŸ‚ å…³äºâ½†ç¼“å†²å’Œæœ‰å†²çªçš„channelï¼Œä¸‹â¾¯è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ</a></li><li><a href=#-ä¸‹åˆ—ä»£ç è¾“å‡ºä»€ä¹ˆ-1>ğŸ° ä¸‹åˆ—ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ</a></li><li><a href=#-å…³äºselectæœºåˆ¶ä¸‹è¯´æ³•æ­£ç¡®çš„æ˜¯>ğŸ§ å…³äºselectæœºåˆ¶ï¼Œä¸‹â¾¯è¯´æ³•æ­£ç¡®çš„æ˜¯?</a></li><li><a href=#-å…³äºå­—ç¬¦ä¸²æ‹¼æ¥ä¸‹åˆ—æ­£ç¡®çš„æ˜¯>ğŸ¥§ å…³äºå­—ç¬¦ä¸²æ‹¼æ¥,ä¸‹åˆ—æ­£ç¡®çš„æ˜¯?</a></li><li><a href=#-è¿nilåˆ‡å’Œç©ºåˆ‡ä¸æ ·éƒ½ä¸æ¸…æ¥š>ğŸ« è¿nilåˆ‡â½šå’Œç©ºåˆ‡â½šâ¼€ä¸â¼€æ ·éƒ½ä¸æ¸…æ¥šï¼Ÿ</a></li><li><a href=#-golangè¯•é¢˜å­—ç¬¦ä¸²è½¬æˆbyteæ•°ç»„ä¼šå‘å†…å­˜æ‹·å—>ğŸ¬ golangâ¾¯è¯•é¢˜ï¼šå­—ç¬¦ä¸²è½¬æˆbyteæ•°ç»„ï¼Œä¼šå‘â½£å†…å­˜æ‹·â»‰å—ï¼Ÿ</a></li><li><a href=#-golangè¯•é¢˜ç¿»è½¬å«æœ‰ä¸­æ•°å­—è‹±å­—çš„å­—ç¬¦ä¸²>ğŸ­ golangâ¾¯è¯•é¢˜ï¼šç¿»è½¬å«æœ‰ä¸­â½‚ã€æ•°å­—ã€è‹±â½‚å­—âºŸçš„å­—ç¬¦ä¸²</a></li><li><a href=#-golangè¯•é¢˜æ‹·åˆ‡å®šåˆ‡ä»£ä»·å—>ğŸ® golangâ¾¯è¯•é¢˜ï¼šæ‹·â»‰â¼¤åˆ‡â½šâ¼€å®šâ½â¼©åˆ‡â½šä»£ä»·â¼¤å—ï¼Ÿ</a></li><li><a href=#-golangè¯•é¢˜jsonåŒ…å˜é‡ä¸åŠ tagä¼šæ€ä¹ˆæ ·>ğŸ¯ golangâ¾¯è¯•é¢˜ï¼šjsonåŒ…å˜é‡ä¸åŠ tagä¼šæ€ä¹ˆæ ·ï¼Ÿ</a></li><li><a href=#-golangè¯•é¢˜reflectåå°„åŒ…å¦‚ä½•è·å–å­—æ®µtagä¸ºä»€ä¹ˆjsonåŒ…ä¸èƒ½å¯¼å‡ºç§æœ‰å˜é‡çš„tag>ğŸ¼ golangâ¾¯è¯•é¢˜ï¼šreflectï¼ˆåå°„åŒ…ï¼‰å¦‚ä½•è·å–å­—æ®µtagï¼Ÿä¸ºä»€ä¹ˆjsonåŒ…ä¸èƒ½å¯¼å‡ºç§æœ‰å˜é‡çš„tagï¼Ÿ</a></li><li><a href=#-æ˜¨å¤©é‚£ä¸ªåœ¨forå¾ªç¯appendå…ƒç´ çš„åŒäº‹ä»Šå¤©è¿˜åœ¨ä¹ˆ>ğŸ¥› æ˜¨å¤©é‚£ä¸ªåœ¨forå¾ªç¯â¾¥appendå…ƒç´ çš„åŒäº‹ï¼Œä»Šå¤©è¿˜åœ¨ä¹ˆï¼Ÿ</a></li><li><a href=#-go-structèƒ½ä¸èƒ½è¾ƒ>â˜• go structèƒ½ä¸èƒ½â½è¾ƒ</a></li><li><a href=#-go-æŒä»€ä¹ˆå½¢å¼çš„ç±»å‹è½¬æ¢å°†æ•´æ•°è½¬æ¢ä¸ºæµ®ç‚¹æ•°>ğŸµ Go â½€æŒä»€ä¹ˆå½¢å¼çš„ç±»å‹è½¬æ¢ï¼Ÿå°†æ•´æ•°è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚</a></li><li><a href=#-logåŒ…çº¿ç¨‹å®‰å…¨å—>ğŸ¶ LogåŒ…çº¿ç¨‹å®‰å…¨å—ï¼Ÿ</a></li><li><a href=#-goroutineå’Œçº¿ç¨‹çš„åŒºåˆ«>ğŸ¾ Goroutineå’Œçº¿ç¨‹çš„åŒºåˆ«?</a></li><li><a href=#ä¸‹åˆ—å“ªä¼španic>ğŸ·ä¸‹åˆ—å“ªâ¼€â¾ä¼španic?</a></li><li><a href=#-ä¸‹åˆ—å“ªä»£ç ä¼španic>ğŸ· ä¸‹åˆ—å“ªâ¾ä»£ç ä¼španic?</a></li><li><a href=#-ä»€ä¹ˆæ˜¯-goroutineä½ å¦‚ä½•åœå®ƒ>ğŸ¸ ä»€ä¹ˆæ˜¯ Goroutineï¼Ÿä½ å¦‚ä½•åœâ½Œå®ƒï¼Ÿ</a></li><li><a href=#-golangä¸­é™¤äº†åŠ mutexé”ä»¥å¤–è¿˜æœ‰å“ªäº›å¼å®‰å…¨è¯»å†™å…±äº«å˜é‡>ğŸ¹ Golangä¸­é™¤äº†åŠ Mutexé”ä»¥å¤–è¿˜æœ‰å“ªäº›â½…å¼å®‰å…¨è¯»å†™å…±äº«å˜é‡ï¼Ÿ</a></li><li><a href=#-ç¼“å†²-chan-çš„å‘é€å’Œæ¥æ”¶æ˜¯å¦åŒæ­¥>ğŸº â½†ç¼“å†² Chan çš„å‘é€å’Œæ¥æ”¶æ˜¯å¦åŒæ­¥?</a></li><li><a href=#--å…³äºswitchè¯­å¥ä¸‹è¯´æ³•æ­£ç¡®çš„æœ‰>ğŸº å…³äºswitchè¯­å¥ï¼Œä¸‹â¾¯è¯´æ³•æ­£ç¡®çš„æœ‰?</a></li><li><a href=#-ä¸‹åˆ—addå‡½æ•°å®šä¹‰æ­£ç¡®çš„æ˜¯>ğŸ¥ƒ ä¸‹åˆ—Addå‡½æ•°å®šä¹‰æ­£ç¡®çš„æ˜¯ï¼Ÿ</a></li><li><a href=#-å…³äº-bool-å˜é‡-b-çš„èµ‹å€¼ä¸‹é”™è¯¯çš„æ³•æ˜¯>ğŸ¥¤ å…³äº bool å˜é‡ b çš„èµ‹å€¼ï¼Œä¸‹â¾¯é”™è¯¯çš„â½¤æ³•æ˜¯ï¼Ÿ</a></li><li><a href=#-å…³äºå˜é‡çš„å¢å’Œå‡æ“ä½œä¸‹è¯­å¥æ­£ç¡®çš„æ˜¯>ğŸ§ƒ å…³äºå˜é‡çš„â¾ƒå¢å’Œâ¾ƒå‡æ“ä½œï¼Œä¸‹â¾¯è¯­å¥æ­£ç¡®çš„æ˜¯ï¼Ÿ</a></li><li><a href=#-goè¯­çš„å¹¶å‘æœºåˆ¶ä»¥åŠå®ƒæ‰€ä½¿çš„cspå¹¶å‘æ¨¡å‹>ğŸ§‰ goè¯­â¾”çš„å¹¶å‘æœºåˆ¶ä»¥åŠå®ƒæ‰€ä½¿â½¤çš„CSPå¹¶å‘æ¨¡å‹ï¼</a></li><li><a href=#-golang-ä¸­å¸¸çš„å¹¶å‘æ¨¡å‹>ğŸ§Š Golang ä¸­å¸¸â½¤çš„å¹¶å‘æ¨¡å‹ï¼Ÿ</a></li><li><a href=#-json-æ ‡å‡†åº“å¯¹-nil-slice-å’Œ-ç©º-slice-çš„å¤„ç†æ˜¯è‡´çš„å—>ğŸ«– JSON æ ‡å‡†åº“å¯¹ nil slice å’Œ ç©º slice çš„å¤„ç†æ˜¯â¼€è‡´çš„å—ï¼Ÿ</a></li><li><a href=#-åç¨‹çº¿ç¨‹è¿›ç¨‹çš„åŒºåˆ«>ğŸ§‹ åç¨‹ï¼Œçº¿ç¨‹ï¼Œè¿›ç¨‹çš„åŒºåˆ«ã€‚</a></li><li><a href=#-äº’æ–¥é”è¯»å†™é”æ­»é”é—®é¢˜æ˜¯æ€ä¹ˆè§£å†³>ğŸƒ äº’æ–¥é”ï¼Œè¯»å†™é”ï¼Œæ­»é”é—®é¢˜æ˜¯æ€ä¹ˆè§£å†³ã€‚</a></li><li><a href=#-golangçš„å†…å­˜æ¨¡å‹ä¸ºä»€ä¹ˆå¯¹è±¡å¤šäº†ä¼šé€ æˆgcå‹>ğŸ„ Golangçš„å†…å­˜æ¨¡å‹ï¼Œä¸ºä»€ä¹ˆâ¼©å¯¹è±¡å¤šäº†ä¼šé€ æˆgcå‹â¼’ã€‚</a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><div class="details admonition note open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-pencil-alt fa-fw" aria-hidden=true></i>æ³¨æ„<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>æœ¬æ–‡å†…å®¹æ¥æºäºï¼š<a href=https://github.com/xiaobaiTech/golangFamily target=_blank rel="external nofollow noopener noreferrer">ã€Githubã€‘åç«¯é¢è¯•é¢˜é›†<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></div></div></div><h4 id=-å…³äºæ•´å‹åˆ‡çš„åˆå§‹åŒ–ä¸‹æ­£ç¡®çš„æ˜¯>ğŸ¦ å…³äºæ•´å‹åˆ‡â½šçš„åˆå§‹åŒ–ï¼Œä¸‹â¾¯æ­£ç¡®çš„æ˜¯ï¼Ÿ</h4><ul><li>A. s := make([]int)</li><li>B. s := make([]int, 0)</li><li>C. s := make([]int, 5, 10)</li><li>D. s := []int{1, 2, 3, 4, 5}</li></ul><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>B C D</em></span></span><h4 id=-ä¸‹åˆ—ä»£ç æ˜¯å¦ä¼šè§¦å‘å¼‚å¸¸>ğŸ§ ä¸‹åˆ—ä»£ç æ˜¯å¦ä¼šè§¦å‘å¼‚å¸¸ï¼Ÿ</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Test59</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>runtime</span><span class=p>.</span><span class=nf>GOMAXPROCS</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=nx>intChan</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>chan</span> <span class=kt>int</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=nx>stringChan</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>chan</span> <span class=kt>string</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=nx>intChan</span> <span class=o>&lt;-</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl> <span class=nx>stringChan</span> <span class=o>&lt;-</span> <span class=s>&#34;hello&#34;</span>
</span></span><span class=line><span class=cl> <span class=k>select</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>case</span> <span class=nx>value</span> <span class=o>:=</span> <span class=o>&lt;-</span><span class=nx>intChan</span><span class=p>:</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=k>case</span> <span class=nx>value</span> <span class=o>:=</span> <span class=o>&lt;-</span><span class=nx>stringChan</span><span class=p>:</span>
</span></span><span class=line><span class=cl> <span class=nb>panic</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>ä¸â¼€å®šï¼Œå½“ä¸¤ä¸ªchanåŒæ—¶æœ‰å€¼æ—¶ï¼Œselect ä¼šéšæœºé€‰æ‹©â¼€ä¸ªå¯â½¤é€šé“åšæ”¶å‘æ“ä½œ</em></span></span><h4 id=-å…³äºchannelçš„ç‰¹æ€§ä¸‹è¯´æ³•æ­£ç¡®çš„æ˜¯>ğŸ¨ å…³äºchannelçš„ç‰¹æ€§ï¼Œä¸‹â¾¯è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ</h4><ul><li>A. ç»™â¼€ä¸ª nil channel å‘é€æ•°æ®ï¼Œé€ æˆæ°¸è¿œé˜»å¡</li><li>B. ä»â¼€ä¸ª nil channel æ¥æ”¶æ•°æ®ï¼Œé€ æˆæ°¸è¿œé˜»å¡</li><li>C. ç»™â¼€ä¸ªå·²ç»å…³é—­çš„ channel å‘é€æ•°æ®ï¼Œå¼•èµ· panic</li><li>D. ä»â¼€ä¸ªå·²ç»å…³é—­çš„ channel æ¥æ”¶æ•°æ®ï¼Œå¦‚æœç¼“å†²åŒºä¸­ä¸ºç©ºï¼Œåˆ™è¿”å›â¼€ä¸ªé›¶å€¼</li></ul><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>A B C D</em></span></span><h4 id=-ä¸‹åˆ—ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜>ğŸ© ä¸‹åˆ—ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>const</span> <span class=nx>i</span> <span class=p>=</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>j</span> <span class=p>=</span> <span class=mi>123</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>j</span><span class=p>,</span> <span class=nx>j</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>i</span><span class=p>,</span> <span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>Goè¯­â¾”ä¸­ï¼Œå¸¸é‡â½†æ³•å¯»å€, æ˜¯ä¸èƒ½è¿›â¾å–æŒ‡é’ˆæ“ä½œçš„</em></span></span><h4 id=-ä¸‹åˆ—ä»£ç è¾“å‡ºä»€ä¹ˆ>ğŸª ä¸‹åˆ—ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Test62</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>x</span> <span class=o>:=</span> <span class=p>[]</span><span class=kt>string</span><span class=p>{</span><span class=s>&#34;a&#34;</span><span class=p>,</span> <span class=s>&#34;b&#34;</span><span class=p>,</span> <span class=s>&#34;c&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=k>for</span> <span class=nx>v</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>x</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Print</span><span class=p>(</span><span class=nx>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>012</em>ï¼Œ è§£æï¼š<em>range â¼€ä¸ªè¿”å›å€¼æ—¶ï¼Œè¿™ä¸ªå€¼æ˜¯ä¸‹æ ‡ï¼Œä¸¤ä¸ªå€¼æ—¶ï¼Œç¬¬â¼€ä¸ªæ˜¯ä¸‹æ ‡ï¼Œç¬¬â¼†ä¸ªæ˜¯å€¼ï¼Œå½“ x ä¸º mapæ—¶ï¼Œç¬¬â¼€ä¸ªæ˜¯keyï¼Œç¬¬â¼†ä¸ªæ˜¯value</em></span></span><h4 id=-å…³äºç¼“å†²å’Œæœ‰å†²çªçš„channelä¸‹è¯´æ³•æ­£ç¡®çš„æ˜¯>ğŸ‚ å…³äºâ½†ç¼“å†²å’Œæœ‰å†²çªçš„channelï¼Œä¸‹â¾¯è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼Ÿ</h4><ul><li>A. â½†ç¼“å†²çš„channelæ˜¯é»˜è®¤çš„ç¼“å†²ä¸º1çš„channelï¼›</li><li>B. â½†ç¼“å†²çš„channelå’Œæœ‰ç¼“å†²çš„channeléƒ½æ˜¯åŒæ­¥çš„ï¼›</li><li>C. â½†ç¼“å†²çš„channelå’Œæœ‰ç¼“å†²çš„channeléƒ½æ˜¯â¾®åŒæ­¥çš„ï¼›</li><li>D. â½†ç¼“å†²çš„channelæ˜¯åŒæ­¥çš„ï¼Œâ½½æœ‰ç¼“å†²çš„channelæ˜¯â¾®åŒæ­¥çš„ï¼›</li></ul><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>D</em></span></span><h4 id=-ä¸‹åˆ—ä»£ç è¾“å‡ºä»€ä¹ˆ-1>ğŸ° ä¸‹åˆ—ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Foo</span><span class=p>(</span><span class=nx>x</span> <span class=kd>interface</span><span class=p>{})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>if</span> <span class=nx>x</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;empty interface&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=k>return</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;non-empty interface&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Test64</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=kd>var</span> <span class=nx>x</span> <span class=o>*</span><span class=kt>int</span> <span class=p>=</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl> <span class=nf>Foo</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>non-empty interface</em>ï¼Œè§£æï¼š<em>æ¥â¼é™¤äº†æœ‰é™æ€ç±»å‹ï¼Œè¿˜æœ‰åŠ¨æ€ç±»å‹å’ŒåŠ¨æ€å€¼ï¼Œå½“ä¸”ä»…å½“åŠ¨æ€å€¼å’ŒåŠ¨æ€ç±»å‹éƒ½ä¸º nil æ—¶ï¼Œæ¥â¼ç±»å‹å€¼æ‰ä¸º nilã€‚è¿™â¾¥çš„ x çš„åŠ¨æ€ç±»å‹æ˜¯ *intï¼Œæ‰€ä»¥ x ä¸ä¸º nil</em></span></span><h4 id=-å…³äºselectæœºåˆ¶ä¸‹è¯´æ³•æ­£ç¡®çš„æ˜¯>ğŸ§ å…³äºselectæœºåˆ¶ï¼Œä¸‹â¾¯è¯´æ³•æ­£ç¡®çš„æ˜¯?</h4><ul><li>A. selectæœºåˆ¶â½¤æ¥å¤„ç†å¼‚æ­¥IOé—®é¢˜ï¼›</li><li>B. selectæœºåˆ¶æœ€â¼¤çš„â¼€æ¡é™åˆ¶å°±æ˜¯æ¯ä¸ªcaseè¯­å¥â¾¥å¿…é¡»æ˜¯â¼€ä¸ªIOæ“ä½œï¼›</li><li>C. golangåœ¨è¯­â¾”çº§åˆ«â½€æŒselectå…³é”®å­—ï¼›</li><li>D. selectå…³é”®å­—çš„â½¤æ³•ä¸switchè¯­å¥â¾®å¸¸ç±»ä¼¼ï¼Œåâ¾¯è¦å¸¦åˆ¤æ–­æ¡ä»¶ï¼›</li></ul><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>A B C</em></span></span><h4 id=-å…³äºå­—ç¬¦ä¸²æ‹¼æ¥ä¸‹åˆ—æ­£ç¡®çš„æ˜¯>ğŸ¥§ å…³äºå­—ç¬¦ä¸²æ‹¼æ¥,ä¸‹åˆ—æ­£ç¡®çš„æ˜¯?</h4><ul><li>A. str := &lsquo;abc&rsquo; + &lsquo;123&rsquo;</li><li>B. str := &ldquo;abc&rdquo; + &ldquo;123&rdquo;</li><li>C. str ï¼š= &lsquo;123&rsquo; + &ldquo;abc&rdquo;</li><li>D. fmt.Sprintf(&ldquo;abc%d&rdquo;, 123)</li></ul><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>B D åŒå¼•å·â½¤æ¥è¡¨ç¤ºå­—ç¬¦ä¸² stringï¼Œå…¶å®è´¨æ˜¯â¼€ä¸ª byte ç±»å‹çš„æ•°ç»„ï¼Œå•å¼•å·è¡¨ç¤º rune ç±»å‹ã€‚</em></span></span><h4 id=-è¿nilåˆ‡å’Œç©ºåˆ‡ä¸æ ·éƒ½ä¸æ¸…æ¥š>ğŸ« è¿nilåˆ‡â½šå’Œç©ºåˆ‡â½šâ¼€ä¸â¼€æ ·éƒ½ä¸æ¸…æ¥šï¼Ÿ</h4><p><a href=https://mp.weixin.qq.com/s/sW4PD1MiaunURNDIU4BbQQ target=_blank rel="external nofollow noopener noreferrer">è¿nilåˆ‡ç‰‡å’Œç©ºåˆ‡ç‰‡ä¸€ä¸ä¸€æ ·éƒ½ä¸æ¸…æ¥šï¼Ÿé‚£BATé¢è¯•å®˜åªå¥½è®©ä½ å›å»ç­‰é€šçŸ¥äº†ã€‚<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><h4 id=-golangè¯•é¢˜å­—ç¬¦ä¸²è½¬æˆbyteæ•°ç»„ä¼šå‘å†…å­˜æ‹·å—>ğŸ¬ golangâ¾¯è¯•é¢˜ï¼šå­—ç¬¦ä¸²è½¬æˆbyteæ•°ç»„ï¼Œä¼šå‘â½£å†…å­˜æ‹·â»‰å—ï¼Ÿ</h4><p><a href=https://mp.weixin.qq.com/s/qmlPuGVISx8NYp2b9LrqnA target=_blank rel="external nofollow noopener noreferrer">golangâ¾¯è¯•é¢˜ï¼šå­—ç¬¦ä¸²è½¬æˆbyteæ•°ç»„ï¼Œä¼šå‘â½£å†…å­˜æ‹·â»‰å—ï¼Ÿ<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><h4 id=-golangè¯•é¢˜ç¿»è½¬å«æœ‰ä¸­æ•°å­—è‹±å­—çš„å­—ç¬¦ä¸²>ğŸ­ golangâ¾¯è¯•é¢˜ï¼šç¿»è½¬å«æœ‰ä¸­â½‚ã€æ•°å­—ã€è‹±â½‚å­—âºŸçš„å­—ç¬¦ä¸²</h4><p><a href=https://mp.weixin.qq.com/s/ssinnUM22PHPWRug8EzAkg target=_blank rel="external nofollow noopener noreferrer">golangâ¾¯è¯•é¢˜ï¼šç¿»è½¬å«æœ‰ä¸­â½‚ã€æ•°å­—ã€è‹±â½‚å­—âºŸçš„å­—ç¬¦ä¸²<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><h4 id=-golangè¯•é¢˜æ‹·åˆ‡å®šåˆ‡ä»£ä»·å—>ğŸ® golangâ¾¯è¯•é¢˜ï¼šæ‹·â»‰â¼¤åˆ‡â½šâ¼€å®šâ½â¼©åˆ‡â½šä»£ä»·â¼¤å—ï¼Ÿ</h4><p><a href=https://mp.weixin.qq.com/s/8Dp2eCYzDdBbxAG5-jNevQ target=_blank rel="external nofollow noopener noreferrer">golangâ¾¯è¯•é¢˜ï¼šæ‹·â»‰â¼¤åˆ‡â½šâ¼€å®šâ½â¼©åˆ‡â½šä»£ä»·â¼¤å—ï¼Ÿ<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><h4 id=-golangè¯•é¢˜jsonåŒ…å˜é‡ä¸åŠ tagä¼šæ€ä¹ˆæ ·>ğŸ¯ golangâ¾¯è¯•é¢˜ï¼šjsonåŒ…å˜é‡ä¸åŠ tagä¼šæ€ä¹ˆæ ·ï¼Ÿ</h4><p><a href=https://mp.weixin.qq.com/s/bZlKV_BWSqc-qCa4DrsCbg target=_blank rel="external nofollow noopener noreferrer">golangâ¾¯è¯•é¢˜ï¼šjsonåŒ…å˜é‡ä¸åŠ tagä¼šæ€ä¹ˆæ ·ï¼Ÿ<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><h4 id=-golangè¯•é¢˜reflectåå°„åŒ…å¦‚ä½•è·å–å­—æ®µtagä¸ºä»€ä¹ˆjsonåŒ…ä¸èƒ½å¯¼å‡ºç§æœ‰å˜é‡çš„tag>ğŸ¼ golangâ¾¯è¯•é¢˜ï¼šreflectï¼ˆåå°„åŒ…ï¼‰å¦‚ä½•è·å–å­—æ®µtagï¼Ÿä¸ºä»€ä¹ˆjsonåŒ…ä¸èƒ½å¯¼å‡ºç§æœ‰å˜é‡çš„tagï¼Ÿ</h4><p><a href=https://mp.weixin.qq.com/s/P7TEx2mInwEktXTEE6JDWQ target=_blank rel="external nofollow noopener noreferrer">golangâ¾¯è¯•é¢˜ï¼šreflectï¼ˆåå°„åŒ…ï¼‰å¦‚ä½•è·å–å­—æ®µtagï¼Ÿä¸ºä»€ä¹ˆjsonåŒ…ä¸èƒ½å¯¼å‡ºç§æœ‰å˜é‡çš„tagï¼Ÿ<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><h4 id=-æ˜¨å¤©é‚£ä¸ªåœ¨forå¾ªç¯appendå…ƒç´ çš„åŒäº‹ä»Šå¤©è¿˜åœ¨ä¹ˆ>ğŸ¥› æ˜¨å¤©é‚£ä¸ªåœ¨forå¾ªç¯â¾¥appendå…ƒç´ çš„åŒäº‹ï¼Œä»Šå¤©è¿˜åœ¨ä¹ˆï¼Ÿ</h4><p><a href=https://mp.weixin.qq.com/s/SHxcspmiKyPwPBbhfVxsGA target=_blank rel="external nofollow noopener noreferrer">æ˜¨å¤©é‚£ä¸ªåœ¨forå¾ªç¯â¾¥appendå…ƒç´ çš„åŒäº‹ï¼Œä»Šå¤©è¿˜åœ¨ä¹ˆï¼Ÿ<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><h4 id=-go-structèƒ½ä¸èƒ½è¾ƒ>â˜• go structèƒ½ä¸èƒ½â½è¾ƒ</h4><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>ç›¸åŒstructç±»å‹çš„å¯ä»¥â½è¾ƒï¼›ä¸åŒstructç±»å‹çš„ä¸å¯ä»¥â½è¾ƒ,ç¼–è¯‘éƒ½ä¸è¿‡ï¼Œç±»å‹ä¸åŒ¹é…</em></span></span><h4 id=-go-æŒä»€ä¹ˆå½¢å¼çš„ç±»å‹è½¬æ¢å°†æ•´æ•°è½¬æ¢ä¸ºæµ®ç‚¹æ•°>ğŸµ Go â½€æŒä»€ä¹ˆå½¢å¼çš„ç±»å‹è½¬æ¢ï¼Ÿå°†æ•´æ•°è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚</h4><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼šGo â½€æŒæ˜¾å¼ç±»å‹è½¬æ¢ä»¥æ»¡â¾œå…¶ä¸¥æ ¼çš„ç±»å‹è¦æ±‚ã€‚</span></span><h4 id=-logåŒ…çº¿ç¨‹å®‰å…¨å—>ğŸ¶ LogåŒ…çº¿ç¨‹å®‰å…¨å—ï¼Ÿ</h4><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>Golangçš„æ ‡å‡†åº“æä¾›äº†logçš„æœºåˆ¶ï¼Œä½†æ˜¯è¯¥æ¨¡å—çš„åŠŸèƒ½è¾ƒä¸ºç®€å•ï¼ˆçœ‹ä¼¼ç®€å•ï¼Œå…¶å®ä»–æœ‰ä»–çš„è®¾è®¡æ€è·¯ï¼‰ã€‚åœ¨è¾“å‡ºçš„ä½ç½®åšäº†çº¿ç¨‹å®‰å…¨çš„ä¿æŠ¤ã€‚</em></span></span><h4 id=-goroutineå’Œçº¿ç¨‹çš„åŒºåˆ«>ğŸ¾ Goroutineå’Œçº¿ç¨‹çš„åŒºåˆ«?</h4><details><summary>å±•å¼€æŸ¥çœ‹è¯¦æƒ…</summary><p><em><strong>ä»è°ƒåº¦ä¸Šçœ‹ï¼Œgoroutineçš„è°ƒåº¦å¼€é”€è¿œè¿œâ¼©äºçº¿ç¨‹è°ƒåº¦å¼€é”€ã€‚</strong></em></p><p>OSçš„çº¿ç¨‹ç”±OSå†…æ ¸è°ƒåº¦ï¼Œæ¯éš”â¼æ¯«ç§’ï¼Œâ¼€ä¸ªç¡¬ä»¶æ—¶é’Ÿä¸­æ–­å‘åˆ°CPUï¼ŒCPUè°ƒâ½¤â¼€ä¸ªè°ƒåº¦å™¨å†…æ ¸å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æš‚åœå½“å‰æ­£åœ¨è¿â¾çš„çº¿ç¨‹ï¼ŒæŠŠä»–çš„å¯„å­˜å™¨ä¿¡æ¯ä¿å­˜åˆ°å†…å­˜ä¸­ï¼ŒæŸ¥çœ‹çº¿ç¨‹åˆ—è¡¨å¹¶å†³å®šæ¥ä¸‹æ¥è¿â¾å“ªâ¼€ä¸ªçº¿ç¨‹ï¼Œå†ä»å†…å­˜ä¸­æ¢å¤çº¿ç¨‹çš„æ³¨å†Œè¡¨ä¿¡æ¯ï¼Œæœ€åç»§ç»­æ‰§â¾é€‰ä¸­çš„çº¿ç¨‹ã€‚è¿™ç§çº¿ç¨‹åˆ‡æ¢éœ€è¦â¼€ä¸ªå®Œæ•´çš„ä¸Šä¸‹â½‚åˆ‡æ¢ï¼šå³ä¿å­˜â¼€ä¸ªçº¿ç¨‹çš„çŠ¶æ€åˆ°å†…å­˜ï¼Œå†æ¢å¤å¦å¤–â¼€ä¸ªçº¿ç¨‹çš„çŠ¶æ€ï¼Œæœ€åæ›´æ–°è°ƒåº¦å™¨çš„æ•°æ®ç»“æ„ã€‚æŸç§æ„ä¹‰ä¸Šï¼Œè¿™ç§æ“ä½œè¿˜æ˜¯å¾ˆæ…¢çš„ã€‚</p><p>Goè¿â¾çš„æ—¶å€™åŒ…æ¶µâ¼€ä¸ªâ¾ƒâ¼°çš„è°ƒåº¦å™¨ï¼Œè¿™ä¸ªè°ƒåº¦å™¨ä½¿â½¤â¼€ä¸ªç§°ä¸ºâ¼€ä¸ªM:Nè°ƒåº¦æŠ€æœ¯ï¼Œmä¸ªgoroutineåˆ°nä¸ªosçº¿ç¨‹ï¼ˆå¯ä»¥â½¤GOMAXPROCSæ¥æ§åˆ¶nçš„æ•°é‡ï¼‰ï¼ŒGoçš„è°ƒåº¦å™¨ä¸æ˜¯ç”±ç¡¬ä»¶æ—¶é’Ÿæ¥å®šæœŸè§¦å‘çš„ï¼Œâ½½æ˜¯ç”±ç‰¹å®šçš„goè¯­â¾”ç»“æ„æ¥è§¦å‘çš„ï¼Œä»–ä¸éœ€è¦åˆ‡æ¢åˆ°å†…æ ¸è¯­å¢ƒï¼Œæ‰€ä»¥è°ƒåº¦â¼€ä¸ªgoroutineâ½è°ƒåº¦â¼€ä¸ªçº¿ç¨‹çš„æˆæœ¬ä½å¾ˆå¤šã€‚</p><p><em><strong>ä»æ ˆç©ºé—´ä¸Šï¼Œgoroutineçš„æ ˆç©ºé—´æ›´åŠ åŠ¨æ€çµæ´»ã€‚</strong></em></p><p>æ¯ä¸ªOSçš„çº¿ç¨‹éƒ½æœ‰â¼€ä¸ªå›ºå®šâ¼¤â¼©çš„æ ˆå†…å­˜ï¼Œé€šå¸¸æ˜¯2MBï¼Œæ ˆå†…å­˜â½¤äºä¿å­˜åœ¨å…¶ä»–å‡½æ•°è°ƒâ½¤æœŸé—´å“ªäº›æ­£åœ¨æ‰§â¾æˆ–è€…ä¸´æ—¶æš‚åœçš„å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚è¿™ä¸ªå›ºå®šçš„æ ˆâ¼¤â¼©ï¼Œå¦‚æœå¯¹äºgoroutineæ¥è¯´ï¼Œå¯èƒ½æ˜¯â¼€ç§å·¨â¼¤çš„æµªè´¹ã€‚ä½œä¸ºå¯¹â½goroutineåœ¨â½£å‘½å‘¨æœŸå¼€å§‹åªæœ‰â¼€ä¸ªå¾ˆâ¼©çš„æ ˆï¼Œå…¸å‹æƒ…å†µæ˜¯2KB, åœ¨goç¨‹åºä¸­ï¼Œâ¼€æ¬¡åˆ›å»ºâ¼—ä¸‡å·¦å³çš„goroutineä¹Ÿä¸ç½•â»…ï¼ˆ2KB*100,000=200MBï¼‰ã€‚â½½ä¸”goroutineçš„æ ˆä¸æ˜¯å›ºå®šâ¼¤â¼©ï¼Œå®ƒå¯ä»¥æŒ‰éœ€å¢â¼¤å’Œç¼©â¼©ï¼Œæœ€â¼¤é™åˆ¶å¯ä»¥åˆ°1GBã€‚</p><p><em><strong>goroutineæ²¡æœ‰â¼€ä¸ªç‰¹å®šçš„æ ‡è¯†ã€‚</strong></em></p><p>åœ¨â¼¤éƒ¨åˆ†â½€æŒå¤šçº¿ç¨‹çš„æ“ä½œç³»ç»Ÿå’Œç¼–ç¨‹è¯­â¾”ä¸­ï¼Œçº¿ç¨‹æœ‰â¼€ä¸ªç‹¬ç‰¹çš„æ ‡è¯†ï¼Œé€šå¸¸æ˜¯â¼€ä¸ªæ•´æ•°æˆ–è€…æŒ‡é’ˆï¼Œè¿™ä¸ªç‰¹æ€§å¯ä»¥è®©æˆ‘ä»¬æ„å»ºâ¼€ä¸ªçº¿ç¨‹çš„å±€éƒ¨å­˜å‚¨ï¼Œæœ¬è´¨æ˜¯â¼€ä¸ªå…¨å±€çš„mapï¼Œä»¥çº¿ç¨‹çš„æ ‡è¯†ä½œä¸ºé”®ï¼Œè¿™æ ·æ¯ä¸ªçº¿ç¨‹å¯ä»¥ç‹¬â½´ä½¿â½¤è¿™ä¸ªmapå­˜å‚¨å’Œè·å–å€¼ï¼Œä¸å—å…¶ä»–çº¿ç¨‹â¼²æ‰°ã€‚</p><p>goroutineä¸­æ²¡æœ‰å¯ä¾›ç¨‹åºå‘˜è®¿é—®çš„æ ‡è¯†ï¼ŒåŸå› æ˜¯â¼€ç§çº¯å‡½æ•°çš„ç†å¿µï¼Œä¸å¸Œæœ›æ»¥â½¤çº¿ç¨‹å±€éƒ¨å­˜å‚¨å¯¼è‡´â¼€ä¸ªä¸å¥åº·çš„è¶…è·ä½œâ½¤ï¼Œå³å‡½æ•°çš„â¾ä¸ºä¸ä»…å–å†³äºå®ƒçš„å‚æ•°ï¼Œè¿˜å–å†³äºè¿â¾å®ƒçš„çº¿ç¨‹æ ‡è¯†ã€‚</p></details><h4 id=ä¸‹åˆ—å“ªä¼španic>ğŸ·ä¸‹åˆ—å“ªâ¼€â¾ä¼španic?</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Test76</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=kd>var</span> <span class=nx>x</span> <span class=kd>interface</span><span class=p>{}</span>
</span></span><span class=line><span class=cl> <span class=kd>var</span> <span class=nx>y</span> <span class=kd>interface</span><span class=p>{}</span> <span class=p>=</span> <span class=p>[]</span><span class=kt>int</span><span class=p>{</span><span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=nx>_</span> <span class=p>=</span> <span class=nx>x</span> <span class=o>==</span> <span class=nx>x</span>
</span></span><span class=line><span class=cl> <span class=nx>_</span> <span class=p>=</span> <span class=nx>x</span> <span class=o>==</span> <span class=nx>y</span>
</span></span><span class=line><span class=cl> <span class=nx>_</span> <span class=p>=</span> <span class=nx>y</span> <span class=o>==</span> <span class=nx>y</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>_ = y == y ä¼šå‘â½£panic, å› ä¸ºä¸¤ä¸ªâ½è¾ƒå€¼çš„åŠ¨æ€ç±»å‹ä¸ºåŒâ¼€ä¸ªä¸å¯â½è¾ƒç±»å‹</em></span></span><h4 id=-ä¸‹åˆ—å“ªä»£ç ä¼španic>ğŸ· ä¸‹åˆ—å“ªâ¾ä»£ç ä¼španic?</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Test77</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>x</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=nx>_</span> <span class=p>=</span> <span class=nx>x</span><span class=p>[</span><span class=mi>6</span><span class=p>:</span><span class=mi>10</span><span class=p>]</span>
</span></span><span class=line><span class=cl> <span class=nx>_</span> <span class=p>=</span> <span class=nx>x</span><span class=p>[</span><span class=mi>6</span><span class=p>:]</span>
</span></span><span class=line><span class=cl> <span class=nx>_</span> <span class=p>=</span> <span class=nx>x</span><span class=p>[</span><span class=mi>2</span><span class=p>:]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>_ = x[6:] è¿™â¼€â¾ä¼šå‘â½£panic, æˆªå–ç¬¦å· [i:j]ï¼Œå¦‚æœ j çœç•¥ï¼Œé»˜è®¤æ˜¯åŸåˆ‡â½šæˆ–è€…æ•°ç»„çš„â»“åº¦ï¼Œx çš„â»“åº¦æ˜¯ 2ï¼Œâ¼©äºèµ·å§‹ä¸‹æ ‡ 6 ï¼Œæ‰€ä»¥ panic</em></span></span><h4 id=-ä»€ä¹ˆæ˜¯-goroutineä½ å¦‚ä½•åœå®ƒ>ğŸ¸ ä»€ä¹ˆæ˜¯ Goroutineï¼Ÿä½ å¦‚ä½•åœâ½Œå®ƒï¼Ÿ</h4><details><summary>å±•å¼€æŸ¥çœ‹è¯¦æƒ…</summary><p><em>â¼€ä¸ª Goroutine æ˜¯â¼€ä¸ªå‡½æ•°æˆ–â½…æ³•æ‰§â¾åŒæ—¶æ—è¾¹å…¶ä»–ä»»ä½•å¤Ÿç¨‹é‡‡â½¤äº†ç‰¹æ®Šçš„ Goroutine çº¿ç¨‹ã€‚Goroutine çº¿ç¨‹â½æ ‡å‡†çº¿ç¨‹æ›´è½»é‡çº§ï¼Œâ¼¤å¤šæ•° Golang ç¨‹åºåŒæ—¶ä½¿â½¤æ•°åƒä¸ª gã€Goroutineã€‚</em></p><p>è¦åˆ›å»º Goroutineï¼Œè¯· go åœ¨å‡½æ•°å£°æ˜ä¹‹å‰æ·»åŠ goå…³é”®å­—ã€‚</p><p><em>æ‚¨å¯ä»¥é€šè¿‡å‘ Goroutine å‘é€â¼€ä¸ªä¿¡å·é€šé“æ¥åœâ½Œå®ƒã€‚Goroutines åªèƒ½åœ¨è¢«å‘ŠçŸ¥æ£€æŸ¥æ—¶å“åº”ä¿¡å·ï¼Œå› æ­¤æ‚¨éœ€è¦åœ¨é€»è¾‘ä½ç½®ï¼ˆä¾‹å¦‚ for å¾ªç¯é¡¶éƒ¨ï¼‰åŒ…å«æ£€æŸ¥ã€‚</em></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl> <span class=nx>quit</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>chan</span> <span class=kt>bool</span><span class=p>)</span> <span class=k>go</span> <span class=kd>func</span><span class=p>(){</span>
</span></span><span class=line><span class=cl> <span class=k>for</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>select</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>case</span> <span class=o>&lt;-</span><span class=nx>quit</span><span class=p>:</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=k>default</span><span class=p>:</span>
</span></span><span class=line><span class=cl> <span class=c1>//â€¦
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=p>}()</span>
</span></span><span class=line><span class=cl> <span class=c1>//â€¦
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=nx>quit</span> <span class=o>&lt;-</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></details><h4 id=-golangä¸­é™¤äº†åŠ mutexé”ä»¥å¤–è¿˜æœ‰å“ªäº›å¼å®‰å…¨è¯»å†™å…±äº«å˜é‡>ğŸ¹ Golangä¸­é™¤äº†åŠ Mutexé”ä»¥å¤–è¿˜æœ‰å“ªäº›â½…å¼å®‰å…¨è¯»å†™å…±äº«å˜é‡ï¼Ÿ</h4><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>Golangä¸­Goroutine å¯ä»¥é€šè¿‡ Channel è¿›â¾å®‰å…¨è¯»å†™å…±äº«å˜é‡ã€‚</em></span></span><h4 id=-ç¼“å†²-chan-çš„å‘é€å’Œæ¥æ”¶æ˜¯å¦åŒæ­¥>ğŸº â½†ç¼“å†² Chan çš„å‘é€å’Œæ¥æ”¶æ˜¯å¦åŒæ­¥?</h4><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>channelâ½†ç¼“å†²æ—¶ï¼Œå‘é€é˜»å¡ç›´åˆ°æ•°æ®è¢«æ¥æ”¶ï¼Œæ¥æ”¶é˜»å¡ç›´åˆ°è¯»åˆ°æ•°æ®ã€‚channelæœ‰ç¼“å†²æ—¶ï¼Œå½“ç¼“å†²æ»¡æ—¶å‘é€é˜»å¡ï¼Œå½“ç¼“å†²ç©ºæ—¶æ¥æ”¶é˜»å¡ã€‚</em></span></span><h4 id=--å…³äºswitchè¯­å¥ä¸‹è¯´æ³•æ­£ç¡®çš„æœ‰>ğŸº å…³äºswitchè¯­å¥ï¼Œä¸‹â¾¯è¯´æ³•æ­£ç¡®çš„æœ‰?</h4><ul><li>A. æ¡ä»¶è¡¨è¾¾å¼å¿…é¡»ä¸ºå¸¸é‡æˆ–è€…æ•´æ•°ï¼›</li><li>B. å•ä¸ªcaseä¸­ï¼Œå¯ä»¥å‡ºç°å¤šä¸ªç»“æœé€‰é¡¹ï¼›</li><li>C. éœ€è¦â½¤breakæ¥æ˜ç¡®é€€å‡ºâ¼€ä¸ªcaseï¼›</li><li>D. åªæœ‰åœ¨caseä¸­æ˜ç¡®æ·»åŠ fallthroughå…³é”®å­—ï¼Œæ‰ä¼šç»§ç»­æ‰§â¾ç´§è·Ÿçš„ä¸‹â¼€ä¸ªcaseï¼›</li></ul><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>B D</em></span></span><h4 id=-ä¸‹åˆ—addå‡½æ•°å®šä¹‰æ­£ç¡®çš„æ˜¯>ğŸ¥ƒ ä¸‹åˆ—Addå‡½æ•°å®šä¹‰æ­£ç¡®çš„æ˜¯ï¼Ÿ</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>Test54</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=kd>var</span> <span class=nx>a</span> <span class=nx>Integer</span> <span class=p>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl> <span class=kd>var</span> <span class=nx>b</span> <span class=nx>Integer</span> <span class=p>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl> <span class=kd>var</span> <span class=nx>i</span> <span class=kd>interface</span><span class=p>{}</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>a</span>
</span></span><span class=line><span class=cl> <span class=nx>sum</span> <span class=o>:=</span> <span class=nx>i</span><span class=p>.(</span><span class=o>*</span><span class=nx>Integer</span><span class=p>).</span><span class=nf>Add</span><span class=p>(</span><span class=nx>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>sum</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>A</span><span class=p>.</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Integer</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>a</span> <span class=nx>Integer</span><span class=p>)</span> <span class=nf>Add</span><span class=p>(</span><span class=nx>b</span> <span class=nx>Integer</span><span class=p>)</span> <span class=nx>Integer</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>B</span><span class=p>.</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Integer</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>a</span> <span class=nx>Integer</span><span class=p>)</span> <span class=nf>Add</span><span class=p>(</span><span class=nx>b</span> <span class=o>*</span><span class=nx>Integer</span><span class=p>)</span> <span class=nx>Integer</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=o>*</span><span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>C</span><span class=p>.</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Integer</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>a</span> <span class=o>*</span><span class=nx>Integer</span><span class=p>)</span> <span class=nf>Add</span><span class=p>(</span><span class=nx>b</span> <span class=nx>Integer</span><span class=p>)</span> <span class=nx>Integer</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=o>*</span><span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>D</span><span class=p>.</span>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Integer</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>a</span> <span class=o>*</span><span class=nx>Integer</span><span class=p>)</span> <span class=nf>Add</span><span class=p>(</span><span class=nx>b</span> <span class=o>*</span><span class=nx>Integer</span><span class=p>)</span> <span class=nx>Integer</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>return</span> <span class=o>*</span><span class=nx>a</span> <span class=o>+</span> <span class=o>*</span><span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼šA C</span></span><h4 id=-å…³äº-bool-å˜é‡-b-çš„èµ‹å€¼ä¸‹é”™è¯¯çš„æ³•æ˜¯>ğŸ¥¤ å…³äº bool å˜é‡ b çš„èµ‹å€¼ï¼Œä¸‹â¾¯é”™è¯¯çš„â½¤æ³•æ˜¯ï¼Ÿ</h4><ul><li>A. b = true</li><li>B. b = 1</li><li>C. b = bool(1)</li><li>D. b = (1 == 2)</li></ul><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>B C</span></span><h4 id=-å…³äºå˜é‡çš„å¢å’Œå‡æ“ä½œä¸‹è¯­å¥æ­£ç¡®çš„æ˜¯>ğŸ§ƒ å…³äºå˜é‡çš„â¾ƒå¢å’Œâ¾ƒå‡æ“ä½œï¼Œä¸‹â¾¯è¯­å¥æ­£ç¡®çš„æ˜¯ï¼Ÿ</h4><p>A.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>i</span> <span class=o>:=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nx>i</span><span class=o>++</span>
</span></span></code></pre></td></tr></table></div></div><p>B.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>i</span> <span class=o>:=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nx>j</span> <span class=p>=</span> <span class=nx>i</span><span class=o>++</span>
</span></span></code></pre></td></tr></table></div></div><p>C.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>i</span> <span class=o>:=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=o>++</span><span class=nx>i</span>
</span></span></code></pre></td></tr></table></div></div><p>D.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>i</span> <span class=o>:=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=nx>i</span><span class=o>--</span>
</span></span></code></pre></td></tr></table></div></div><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>A D</em>ï¼›go â¾¥â¾¯æ²¡æœ‰ ++i å’Œ &ndash;i</span></span><h4 id=-goè¯­çš„å¹¶å‘æœºåˆ¶ä»¥åŠå®ƒæ‰€ä½¿çš„cspå¹¶å‘æ¨¡å‹>ğŸ§‰ goè¯­â¾”çš„å¹¶å‘æœºåˆ¶ä»¥åŠå®ƒæ‰€ä½¿â½¤çš„CSPå¹¶å‘æ¨¡å‹ï¼</h4><details><summary>å±•å¼€æŸ¥çœ‹è¯¦æƒ…</summary><p><em>CSPæ¨¡å‹æ˜¯ä¸Šä¸ªä¸–çºªä¸ƒâ¼—å¹´ä»£æå‡ºçš„,ä¸åŒäºä¼ ç»Ÿçš„å¤šçº¿ç¨‹é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡ï¼ŒCSPè®²ç©¶çš„æ˜¯â€œä»¥é€šä¿¡çš„â½…å¼æ¥å…±äº«å†…å­˜â€ã€‚â½¤äºæè¿°ä¸¤ä¸ªç‹¬â½´çš„å¹¶å‘å®ä½“é€šè¿‡å…±äº«çš„é€šè®¯ channel(ç®¡é“)è¿›â¾é€šä¿¡çš„å¹¶å‘æ¨¡å‹ã€‚ CSPä¸­channelæ˜¯ç¬¬â¼€ç±»å¯¹è±¡ï¼Œå®ƒä¸å…³æ³¨å‘é€æ¶ˆæ¯çš„å®ä½“ï¼Œâ½½å…³æ³¨ä¸å‘é€æ¶ˆæ¯æ—¶ä½¿â½¤çš„channelã€‚</em></p><p><em>Golangä¸­channel æ˜¯è¢«å•ç‹¬åˆ›å»ºå¹¶ä¸”å¯ä»¥åœ¨è¿›ç¨‹ä¹‹é—´ä¼ é€’ï¼Œå®ƒçš„é€šä¿¡æ¨¡å¼ç±»ä¼¼äº boss-worker æ¨¡å¼çš„ï¼Œâ¼€ä¸ªå®ä½“é€šè¿‡å°†æ¶ˆæ¯å‘é€åˆ°channel ä¸­ï¼Œç„¶åâ¼œç›‘å¬è¿™ä¸ª channel çš„å®ä½“å¤„ç†ï¼Œä¸¤ä¸ªå®ä½“ä¹‹é—´æ˜¯åŒ¿åçš„ï¼Œè¿™ä¸ªå°±å®ç°å®ä½“ä¸­é—´çš„è§£è€¦ï¼Œå…¶ä¸­ channel æ˜¯åŒæ­¥çš„â¼€ä¸ªæ¶ˆæ¯è¢«å‘é€åˆ° channel ä¸­ï¼Œæœ€ç»ˆæ˜¯â¼€å®šè¦è¢«å¦å¤–çš„å®ä½“æ¶ˆè´¹æ‰çš„ï¼Œåœ¨å®ç°åŸç†ä¸Šå…¶å®ç±»ä¼¼â¼€ä¸ªé˜»å¡çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚</em></p><p><strong>Goroutine æ˜¯Golangå®é™…å¹¶å‘æ‰§â¾çš„å®ä½“ï¼Œå®ƒåº•å±‚æ˜¯ä½¿â½¤åç¨‹(coroutine)å®ç°å¹¶å‘ï¼Œcoroutineæ˜¯â¼€ç§è¿â¾åœ¨â½¤æˆ·æ€çš„â½¤æˆ·çº¿ç¨‹ï¼Œç±»ä¼¼äº greenthreadï¼Œgoåº•å±‚é€‰æ‹©ä½¿â½¤coroutineçš„å‡ºå‘ç‚¹æ˜¯å› ä¸ºï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</strong></p><ul><li>â½¤æˆ·ç©ºé—´ é¿å…äº†å†…æ ¸æ€å’Œâ½¤æˆ·æ€çš„åˆ‡æ¢å¯¼è‡´çš„æˆæœ¬ã€‚</li><li>å¯ä»¥ç”±è¯­â¾”å’Œæ¡†æ¶å±‚è¿›â¾è°ƒåº¦ã€‚</li><li>æ›´â¼©çš„æ ˆç©ºé—´å…è®¸åˆ›å»ºâ¼¤é‡çš„å®ä¾‹ã€‚</li></ul><p><strong>Golangä¸­çš„Goroutineçš„ç‰¹æ€§:</strong></p><p>Golangå†…éƒ¨æœ‰ä¸‰ä¸ªå¯¹è±¡ï¼š På¯¹è±¡(processor) ä»£è¡¨ä¸Šä¸‹â½‚ï¼ˆæˆ–è€…å¯ä»¥è®¤ä¸ºæ˜¯cpuï¼‰ï¼ŒM(work thread)ä»£è¡¨â¼¯ä½œçº¿ç¨‹ï¼ŒGå¯¹è±¡ï¼ˆgoroutineï¼‰.</p><p>æ­£å¸¸æƒ…å†µä¸‹â¼€ä¸ªcpuå¯¹è±¡å¯â¼€ä¸ªâ¼¯ä½œçº¿ç¨‹å¯¹è±¡ï¼Œçº¿ç¨‹å»æ£€æŸ¥å¹¶æ‰§â¾goroutineå¯¹è±¡ã€‚ç¢°åˆ°goroutineå¯¹è±¡é˜»å¡çš„æ—¶å€™ï¼Œä¼šå¯åŠ¨â¼€ä¸ªæ–°çš„â¼¯ä½œçº¿ç¨‹ï¼Œä»¥å……åˆ†åˆ©â½¤cpuèµ„æºã€‚ æ‰€æœ‰æœ‰æ—¶å€™çº¿ç¨‹å¯¹è±¡ä¼šâ½å¤„ç†å™¨å¯¹è±¡å¤šå¾ˆå¤š.</p><p>æˆ‘ä»¬â½¤å¦‚ä¸‹å›¾åˆ†åˆ«è¡¨ç¤ºPã€Mã€G:</p><figure><img src=/posts/Go%e8%af%ad%e8%a8%80/%e9%9d%a2%e8%af%95/img/MPG.png></figure><p>Gï¼ˆGoroutineï¼‰ ï¼šæˆ‘ä»¬æ‰€è¯´çš„åç¨‹ï¼Œä¸ºâ½¤æˆ·çº§çš„è½»é‡çº§çº¿ç¨‹ï¼Œæ¯ä¸ªGoroutineå¯¹è±¡ä¸­çš„schedä¿å­˜ç€å…¶ä¸Šä¸‹â½‚ä¿¡æ¯.</p><p>Mï¼ˆMachineï¼‰ ï¼šå¯¹å†…æ ¸çº§çº¿ç¨‹çš„å°è£…ï¼Œæ•°é‡å¯¹åº”çœŸå®çš„CPUæ•°ï¼ˆçœŸæ­£â¼²æ´»çš„å¯¹è±¡ï¼‰.</p><p>Pï¼ˆProcessorï¼‰ ï¼šå³ä¸ºGå’ŒMçš„è°ƒåº¦å¯¹è±¡ï¼Œâ½¤æ¥è°ƒåº¦Gå’ŒMä¹‹é—´çš„å…³è”å…³ç³»ï¼Œå…¶æ•°é‡å¯é€šè¿‡GOMAXPROC()æ¥è®¾ç½®ï¼Œé»˜è®¤ä¸ºæ ¸â¼¼æ•°.</p><p>åœ¨å•æ ¸æƒ…å†µä¸‹ï¼Œæ‰€æœ‰Goroutineè¿â¾åœ¨åŒâ¼€ä¸ªçº¿ç¨‹ï¼ˆM0ï¼‰ä¸­ï¼Œæ¯â¼€ä¸ªçº¿ç¨‹ç»´æŠ¤â¼€ä¸ªä¸Šä¸‹â½‚ï¼ˆPï¼‰ï¼Œä»»ä½•æ—¶åˆ»ï¼Œâ¼€ä¸ªä¸Šä¸‹â½‚ä¸­åªæœ‰â¼€ä¸ªGoroutineï¼Œå…¶ä»–Goroutineåœ¨runqueueä¸­ç­‰å¾…ã€‚</p><p>â¼€ä¸ªGoroutineè¿â¾å®Œâ¾ƒâ¼°çš„æ—¶é—´â½šåï¼Œè®©å‡ºä¸Šä¸‹â½‚ï¼Œâ¾ƒâ¼°å›åˆ°runqueueä¸­ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ã€‚
å½“æ­£åœ¨è¿â¾çš„G0é˜»å¡çš„æ—¶å€™ï¼ˆå¯ä»¥éœ€è¦IOï¼‰ï¼Œä¼šå†åˆ›å»ºâ¼€ä¸ªçº¿ç¨‹ï¼ˆM1ï¼‰ï¼ŒPè½¬åˆ°æ–°çš„çº¿ç¨‹ä¸­å»è¿â¾ã€‚</p><figure><img src=/posts/Go%e8%af%ad%e8%a8%80/%e9%9d%a2%e8%af%95/img/MPG%e8%bf%87%e7%a8%8b.png></figure><p>å½“M0è¿”å›æ—¶ï¼Œå®ƒä¼šå°è¯•ä»å…¶ä»–çº¿ç¨‹ä¸­â€œå·â€â¼€ä¸ªä¸Šä¸‹â½‚è¿‡æ¥ï¼Œå¦‚æœæ²¡æœ‰å·åˆ°ï¼Œä¼šæŠŠGoroutineæ”¾åˆ°Global runqueueä¸­å»ï¼Œç„¶åæŠŠâ¾ƒâ¼°æ”¾â¼Šçº¿ç¨‹ç¼“å­˜ä¸­ã€‚ ä¸Šä¸‹â½‚ä¼šå®šæ—¶æ£€æŸ¥Global runqueueã€‚</p><p>Golangæ˜¯ä¸ºå¹¶å‘â½½â½£çš„è¯­â¾”ï¼ŒGoè¯­â¾”æ˜¯ä¸ºæ•°ä¸å¤šçš„åœ¨è¯­â¾”å±‚â¾¯å®ç°å¹¶å‘çš„è¯­â¾”ï¼›ä¹Ÿæ­£æ˜¯Goè¯­â¾”çš„å¹¶å‘ç‰¹æ€§ï¼Œå¸å¼•äº†å…¨çƒâ½†æ•°çš„å¼€å‘è€…ã€‚</p><p>Golangçš„CSPå¹¶å‘æ¨¡å‹ï¼Œæ˜¯é€šè¿‡Goroutineå’ŒChannelæ¥å®ç°çš„ã€‚</p><p>Goroutine æ˜¯Goè¯­â¾”ä¸­å¹¶å‘çš„æ‰§â¾å•ä½ã€‚æœ‰ç‚¹æŠ½è±¡ï¼Œå…¶å®å°±æ˜¯å’Œä¼ ç»Ÿæ¦‚å¿µä¸Šçš„â€çº¿ç¨‹â€œç±»ä¼¼ï¼Œå¯ä»¥ç†è§£ä¸ºâ€çº¿ç¨‹â€œã€‚Channelæ˜¯Goè¯­â¾”ä¸­å„ä¸ªå¹¶å‘ç»“æ„ä½“(Goroutine)ä¹‹å‰çš„é€šä¿¡æœºåˆ¶ã€‚é€šå¸¸Channelï¼Œæ˜¯å„ä¸ªGoroutineä¹‹é—´é€šä¿¡çš„â€ç®¡é“â€œï¼Œæœ‰ç‚¹ç±»ä¼¼äºLinuxä¸­çš„ç®¡é“ã€‚</p><p>é€šä¿¡æœºåˆ¶channelä¹Ÿå¾ˆâ½…ä¾¿ï¼Œä¼ æ•°æ®â½¤channel &lt;- dataï¼Œå–æ•°æ®â½¤&lt;-channelã€‚åœ¨é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œä¼ æ•°æ®channel &lt;- dataå’Œå–æ•°æ®&lt;-channelå¿…ç„¶ä¼šæˆå¯¹å‡ºç°ï¼Œå› ä¸ºè¿™è¾¹ä¼ ï¼Œé‚£è¾¹å–ï¼Œä¸¤ä¸ªgoroutineä¹‹é—´æ‰ä¼šå®ç°é€šä¿¡ã€‚</p><p>â½½ä¸”ä¸ç®¡ä¼ è¿˜æ˜¯å–ï¼Œå¿…é˜»å¡ï¼Œç›´åˆ°å¦å¤–çš„goroutineä¼ æˆ–è€…å–ä¸ºâ½Œã€‚</p></details><h4 id=-golang-ä¸­å¸¸çš„å¹¶å‘æ¨¡å‹>ğŸ§Š Golang ä¸­å¸¸â½¤çš„å¹¶å‘æ¨¡å‹ï¼Ÿ</h4><details><summary>å±•å¼€æŸ¥çœ‹è¯¦æƒ…</summary><p>Golang ä¸­å¸¸â½¤çš„å¹¶å‘æ¨¡å‹æœ‰ä¸‰ç§:</p><ul><li>é€šè¿‡channelé€šçŸ¥å®ç°å¹¶å‘æ§åˆ¶</li></ul><p>â½†ç¼“å†²çš„é€šé“æŒ‡çš„æ˜¯é€šé“çš„â¼¤â¼©ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ç§ç±»å‹çš„é€šé“åœ¨æ¥æ”¶å‰æ²¡æœ‰èƒ½â¼’ä¿å­˜ä»»ä½•å€¼ï¼Œå®ƒè¦æ±‚å‘é€goroutine å’Œæ¥æ”¶ goroutine åŒæ—¶å‡†å¤‡å¥½ï¼Œæ‰å¯ä»¥å®Œæˆå‘é€å’Œæ¥æ”¶æ“ä½œã€‚</p><p>ä»ä¸Šâ¾¯â½†ç¼“å†²çš„é€šé“å®šä¹‰æ¥çœ‹ï¼Œå‘é€ goroutine å’Œæ¥æ”¶ gouroutine å¿…é¡»æ˜¯åŒæ­¥çš„ï¼ŒåŒæ—¶å‡†å¤‡åï¼Œå¦‚æœæ²¡æœ‰åŒæ—¶å‡†å¤‡å¥½çš„è¯ï¼Œå…ˆæ‰§â¾çš„æ“ä½œå°±ä¼šé˜»å¡ç­‰å¾…ï¼Œç›´åˆ°å¦â¼€ä¸ªç›¸å¯¹åº”çš„æ“ä½œå‡†å¤‡å¥½ä¸ºâ½Œã€‚è¿™ç§â½†ç¼“å†²çš„é€šé“æˆ‘ä»¬ä¹Ÿç§°ä¹‹ä¸ºåŒæ­¥é€šé“ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>ch</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>chan</span> <span class=kd>struct</span><span class=p>{})</span>
</span></span><span class=line><span class=cl> <span class=k>go</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;start working&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=nx>time</span><span class=p>.</span><span class=nf>Sleep</span><span class=p>(</span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span> <span class=o>*</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=nx>ch</span> <span class=o>&lt;-</span> <span class=kd>struct</span><span class=p>{}{}</span>
</span></span><span class=line><span class=cl> <span class=p>}()</span>
</span></span><span class=line><span class=cl> <span class=o>&lt;-</span><span class=nx>ch</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;finished&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><em>å½“ä¸» goroutine è¿â¾åˆ° &lt;-ch æ¥å— channel çš„å€¼çš„æ—¶å€™ï¼Œå¦‚æœè¯¥ channel ä¸­æ²¡æœ‰æ•°æ®ï¼Œå°±ä¼šâ¼€ç›´é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°æœ‰å€¼ã€‚ è¿™æ ·å°±å¯ä»¥ç®€å•å®ç°å¹¶å‘æ§åˆ¶</em></p><ul><li>é€šè¿‡syncåŒ…ä¸­çš„WaitGroupå®ç°å¹¶å‘æ§åˆ¶</li></ul><p>Goroutineæ˜¯å¼‚æ­¥æ‰§â¾çš„ï¼Œæœ‰çš„æ—¶å€™ä¸ºäº†é˜²â½Œåœ¨ç»“æŸmianå‡½æ•°çš„æ—¶å€™ç»“æŸæ‰Goroutineï¼Œæ‰€ä»¥éœ€è¦åŒæ­¥ç­‰å¾…ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦â½¤ WaitGroupäº†ï¼Œåœ¨ sync åŒ…ä¸­ï¼Œæä¾›äº† WaitGroup ï¼Œå®ƒä¼šç­‰å¾…å®ƒæ”¶é›†çš„æ‰€æœ‰ goroutine ä»»åŠ¡å…¨éƒ¨å®Œæˆã€‚åœ¨WaitGroupâ¾¥ä¸»è¦æœ‰ä¸‰ä¸ªâ½…æ³•:</p><ul><li>Add, å¯ä»¥æ·»åŠ æˆ–å‡å°‘ goroutineçš„æ•°é‡.</li><li>Done, ç›¸å½“äºAdd(-1).</li><li>Wait, æ‰§â¾åä¼šå µå¡ä¸»çº¿ç¨‹ï¼Œç›´åˆ°WaitGroup â¾¥çš„å€¼å‡â¾„0.</li></ul><p>åœ¨ä¸» goroutine ä¸­ Add(delta int) ç´¢è¦ç­‰å¾…goroutine çš„æ•°é‡ã€‚ åœ¨æ¯â¼€ä¸ª goroutine å®Œæˆå Done() è¡¨ç¤ºè¿™â¼€ä¸ªgoroutine å·²ç»å®Œæˆï¼Œå½“æ‰€æœ‰çš„ goroutine éƒ½å®Œæˆåï¼Œåœ¨ä¸» goroutine ä¸­ WaitGroup è¿”å›è¿”å›ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl> <span class=kd>var</span> <span class=nx>wg</span> <span class=nx>sync</span><span class=p>.</span><span class=nx>WaitGroup</span>
</span></span><span class=line><span class=cl> <span class=kd>var</span> <span class=nx>urls</span> <span class=p>=</span> <span class=p>[]</span><span class=kt>string</span><span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=s>&#34;http://www.golang.org/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl> <span class=s>&#34;http://www.google.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=k>for</span> <span class=nx>_</span><span class=p>,</span> <span class=nx>url</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>urls</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>wg</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=k>go</span> <span class=kd>func</span><span class=p>(</span><span class=nx>url</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>defer</span> <span class=nx>wg</span><span class=p>.</span><span class=nf>Done</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=nx>http</span><span class=p>.</span><span class=nf>Get</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>}(</span><span class=nx>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=nx>wg</span><span class=p>.</span><span class=nf>Wait</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><em>åœ¨Golangå®˜â½¹ä¸­å¯¹äºWaitGroupä»‹ç»æ˜¯ A WaitGroup must not be copied after first use ,åœ¨ WaitGroupç¬¬â¼€æ¬¡ä½¿â½¤åï¼Œä¸èƒ½è¢«æ‹·â»‰</em></p><p><strong>åº”â½¤ç¤ºä¾‹:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl> <span class=nx>wg</span> <span class=o>:=</span> <span class=nx>sync</span><span class=p>.</span><span class=nx>WaitGroup</span><span class=p>{}</span>
</span></span><span class=line><span class=cl> <span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>wg</span><span class=p>.</span><span class=nf>Add</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=k>go</span> <span class=kd>func</span><span class=p>(</span><span class=nx>wg</span> <span class=nx>sync</span><span class=p>.</span><span class=nx>WaitGroup</span><span class=p>,</span> <span class=nx>i</span> <span class=kt>int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;i:%d&#34;</span><span class=p>,</span> <span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=nx>wg</span><span class=p>.</span><span class=nf>Done</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=p>}(</span><span class=nx>wg</span><span class=p>,</span> <span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=nx>wg</span><span class=p>.</span><span class=nf>Wait</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;exit&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>è¿â¾:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>i</span><span class=p>:</span><span class=m>1i</span><span class=p>:</span><span class=m>3i</span><span class=p>:</span><span class=m>2i</span><span class=p>:</span><span class=m>0i</span><span class=p>:</span><span class=mi>4</span><span class=nx>fatal</span> <span class=kt>error</span><span class=p>:</span> <span class=nx>all</span> <span class=nx>goroutines</span> <span class=nx>are</span> <span class=nx>asleep</span> <span class=o>-</span> <span class=nx>deadlock</span><span class=p>!</span>
</span></span><span class=line><span class=cl><span class=nx>goroutine</span> <span class=mi>1</span> <span class=p>[</span><span class=nx>semacquire</span><span class=p>]:</span>
</span></span><span class=line><span class=cl><span class=nx>sync</span><span class=p>.</span><span class=nf>runtime_Semacquire</span><span class=p>(</span><span class=mh>0xc000094018</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=o>/</span><span class=nx>home</span><span class=o>/</span><span class=nx>keke</span><span class=o>/</span><span class=nx>soft</span><span class=o>/</span><span class=k>go</span><span class=o>/</span><span class=nx>src</span><span class=o>/</span><span class=nx>runtime</span><span class=o>/</span><span class=nx>sema</span><span class=p>.</span><span class=k>go</span><span class=p>:</span><span class=mi>56</span> <span class=o>+</span><span class=mh>0x39</span>
</span></span><span class=line><span class=cl><span class=nx>sync</span><span class=p>.(</span><span class=o>*</span><span class=nx>WaitGroup</span><span class=p>).</span><span class=nf>Wait</span><span class=p>(</span><span class=mh>0xc000094010</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=o>/</span><span class=nx>home</span><span class=o>/</span><span class=nx>keke</span><span class=o>/</span><span class=nx>soft</span><span class=o>/</span><span class=k>go</span><span class=o>/</span><span class=nx>src</span><span class=o>/</span><span class=nx>sync</span><span class=o>/</span><span class=nx>waitgroup</span><span class=p>.</span><span class=k>go</span><span class=p>:</span><span class=mi>130</span> <span class=o>+</span><span class=mh>0x64</span>
</span></span><span class=line><span class=cl><span class=nx>main</span><span class=p>.</span><span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl> <span class=o>/</span><span class=nx>home</span><span class=o>/</span><span class=nx>keke</span><span class=o>/</span><span class=k>go</span><span class=o>/</span><span class=nx>Test</span><span class=o>/</span><span class=nx>wait</span><span class=p>.</span><span class=k>go</span><span class=p>:</span><span class=mi>17</span> <span class=o>+</span><span class=mh>0xab</span>
</span></span><span class=line><span class=cl><span class=nx>exit</span> <span class=nx>status</span> <span class=mi>2</span>
</span></span></code></pre></td></tr></table></div></div><p>å®ƒæç¤ºæ‰€æœ‰çš„ goroutine éƒ½å·²ç»ç¡çœ äº†ï¼Œå‡ºç°äº†æ­»é”ã€‚è¿™æ˜¯å› ä¸º wg ç»™æ‹·â»‰ä¼ é€’åˆ°äº† goroutine ä¸­ï¼Œå¯¼è‡´åªæœ‰ Addæ“ä½œï¼Œå…¶å® Doneæ“ä½œæ˜¯åœ¨ wg çš„å‰¯æœ¬æ‰§â¾çš„ã€‚</p><p>å› æ­¤ Wait å°±æ­»é”äº†ã€‚</p><p>è¿™ä¸ªç¬¬â¼€ä¸ªä¿®æ”¹â½…å¼:å°†åŒ¿åå‡½æ•°ä¸­ wg çš„ä¼ â¼Šç±»å‹æ”¹ä¸º *sync.WaitGrou,è¿™æ ·å°±èƒ½å¼•â½¤åˆ°æ­£ç¡®çš„WaitGroupäº†ã€‚ è¿™ä¸ªç¬¬â¼†ä¸ªä¿®æ”¹â½…å¼:å°†åŒ¿åå‡½æ•°ä¸­çš„ wg çš„ä¼ â¼Šå‚æ•°å»æ‰ï¼Œå› ä¸ºGoâ½€æŒé—­åŒ…ç±»å‹ï¼Œåœ¨åŒ¿åå‡½æ•°ä¸­å¯ä»¥ç›´æ¥ä½¿â½¤å¤–â¾¯çš„ wg å˜é‡</p><ul><li>åœ¨Go 1.7 ä»¥åå¼•è¿›çš„å¼ºâ¼¤çš„Contextä¸Šä¸‹â½‚ï¼Œå®ç°å¹¶å‘æ§åˆ¶</li></ul><p>é€šå¸¸,åœ¨â¼€äº›ç®€å•åœºæ™¯ä¸‹ä½¿â½¤ channel å’Œ WaitGroup å·²ç»â¾œå¤Ÿäº†ï¼Œä½†æ˜¯å½“â¾¯ä¸´â¼€äº›å¤æ‚å¤šå˜çš„â½¹ç»œå¹¶å‘åœºæ™¯ä¸‹channel å’Œ WaitGroup æ˜¾å¾—æœ‰äº›â¼’ä¸ä»â¼¼äº†ã€‚ â½å¦‚â¼€ä¸ªâ½¹ç»œè¯·æ±‚ Requestï¼Œæ¯ä¸ª Request éƒ½éœ€è¦å¼€å¯â¼€ä¸ªgoroutine åšâ¼€äº›äº‹æƒ…ï¼Œè¿™äº› goroutine â¼œå¯èƒ½ä¼šå¼€å¯å…¶ä»–çš„ goroutineï¼Œâ½å¦‚æ•°æ®åº“å’ŒRPCæœåŠ¡ã€‚ æ‰€ä»¥æˆ‘ä»¬éœ€è¦â¼€ç§å¯ä»¥è·Ÿè¸ª goroutine çš„â½…æ¡ˆï¼Œæ‰å¯ä»¥è¾¾åˆ°æ§åˆ¶ä»–ä»¬çš„â½¬çš„ï¼Œè¿™å°±æ˜¯Goè¯­â¾”ä¸ºæˆ‘ä»¬æä¾›çš„ Contextï¼Œç§°ä¹‹ä¸ºä¸Šä¸‹â½‚â¾®å¸¸è´´åˆ‡ï¼Œå®ƒå°±æ˜¯goroutine çš„ä¸Šä¸‹â½‚ã€‚ å®ƒæ˜¯åŒ…æ‹¬â¼€ä¸ªç¨‹åºçš„è¿â¾ç¯å¢ƒã€ç°åœºå’Œå¿«ç…§ç­‰ã€‚æ¯ä¸ªç¨‹åºè¦è¿â¾æ—¶ï¼Œéƒ½éœ€è¦çŸ¥é“å½“å‰ç¨‹åºçš„è¿â¾çŠ¶æ€ï¼Œé€šå¸¸Go å°†è¿™äº›å°è£…åœ¨â¼€ä¸ª Context â¾¥ï¼Œå†å°†å®ƒä¼ ç»™è¦æ‰§â¾çš„ goroutine ã€‚</p><p>context åŒ…ä¸»è¦æ˜¯â½¤æ¥å¤„ç†å¤šä¸ª goroutine ä¹‹é—´å…±äº«æ•°æ®ï¼ŒåŠå¤šä¸ª goroutine çš„ç®¡ç†ã€‚</p><p><strong>context åŒ…çš„æ ¸â¼¼æ˜¯ struct Contextï¼Œæ¥â¼å£°æ˜å¦‚ä¸‹ï¼š</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// A Context carries a deadline, cancelation signal, and request-scoped values
</span></span></span><span class=line><span class=cl><span class=c1>// across API boundaries. Its methods are safe for simultaneous use by multiple
</span></span></span><span class=line><span class=cl><span class=c1>// goroutines.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>Context</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=c1>// Done returns a channel that is closed when this `Context` is canceled
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=c1>// or times out.
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=nf>Done</span><span class=p>()</span> <span class=o>&lt;-</span><span class=kd>chan</span> <span class=kd>struct</span><span class=p>{}</span>
</span></span><span class=line><span class=cl> <span class=c1>// Err indicates why this Context was canceled, after the Done channel
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=c1>// is closed.
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=nf>Err</span><span class=p>()</span> <span class=kt>error</span>
</span></span><span class=line><span class=cl> <span class=c1>// Deadline returns the time when this Context will be canceled, if any.
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=nf>Deadline</span><span class=p>()</span> <span class=p>(</span><span class=nx>deadline</span> <span class=nx>time</span><span class=p>.</span><span class=nx>Time</span><span class=p>,</span> <span class=nx>ok</span> <span class=kt>bool</span><span class=p>)</span>
</span></span><span class=line><span class=cl> <span class=c1>// Value returns the value associated with key or nil if none.
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=nf>Value</span><span class=p>(</span><span class=nx>key</span> <span class=kd>interface</span><span class=p>{})</span> <span class=kd>interface</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Done() è¿”å›â¼€ä¸ªåªèƒ½æ¥å—æ•°æ®çš„channelç±»å‹ï¼Œå½“è¯¥contextå…³é—­æˆ–è€…è¶…æ—¶æ—¶é—´åˆ°äº†çš„æ—¶å€™ï¼Œè¯¥channelå°±ä¼šæœ‰â¼€ä¸ªå–æ¶ˆä¿¡å·</p><p>Err() åœ¨Done() ä¹‹åï¼Œè¿”å›context å–æ¶ˆçš„åŸå› ã€‚</p><p>Deadline() è®¾ç½®è¯¥context cancelçš„æ—¶é—´ç‚¹</p><p>Value() â½…æ³•å…è®¸ Context å¯¹è±¡æºå¸¦requestä½œâ½¤åŸŸçš„æ•°æ®ï¼Œè¯¥æ•°æ®å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p><p>Context å¯¹è±¡æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½ å¯ä»¥æŠŠâ¼€ä¸ª Context å¯¹è±¡ä¼ é€’ç»™ä»»æ„ä¸ªæ•°çš„ gorotuineï¼Œå¯¹å®ƒæ‰§â¾ å–æ¶ˆ æ“ä½œæ—¶ï¼Œæ‰€æœ‰ goroutine éƒ½ä¼šæ¥æ”¶åˆ°å–æ¶ˆä¿¡å·ã€‚</p><p>â¼€ä¸ª Context ä¸èƒ½æ‹¥æœ‰ Cancel â½…æ³•ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿåªèƒ½ Done channel æ¥æ”¶æ•°æ®ã€‚ å…¶ä¸­çš„åŸå› æ˜¯â¼€è‡´çš„ï¼šæ¥æ”¶å–æ¶ˆä¿¡å·çš„å‡½æ•°å’Œå‘é€ä¿¡å·çš„å‡½æ•°é€šå¸¸ä¸æ˜¯â¼€ä¸ªã€‚ å…¸å‹çš„åœºæ™¯æ˜¯ï¼šâ½—æ“ä½œä¸ºâ¼¦æ“ä½œæ“ä½œå¯åŠ¨ goroutineï¼Œâ¼¦æ“ä½œä¹Ÿå°±ä¸èƒ½å–æ¶ˆâ½—æ“ä½œã€‚</p></details><h4 id=-json-æ ‡å‡†åº“å¯¹-nil-slice-å’Œ-ç©º-slice-çš„å¤„ç†æ˜¯è‡´çš„å—>ğŸ«– JSON æ ‡å‡†åº“å¯¹ nil slice å’Œ ç©º slice çš„å¤„ç†æ˜¯â¼€è‡´çš„å—ï¼Ÿ</h4><details><summary>å±•å¼€æŸ¥çœ‹è¯¦æƒ…</summary><p>â¾¸å…ˆJSON æ ‡å‡†åº“å¯¹ nil slice å’Œ ç©º slice çš„å¤„ç†æ˜¯ä¸â¼€è‡´.</p><p>é€šå¸¸é”™è¯¯çš„â½¤æ³•ï¼Œä¼šæŠ¥æ•°ç»„è¶Šç•Œçš„é”™è¯¯ï¼Œå› ä¸ºåªæ˜¯å£°æ˜äº†sliceï¼Œå´æ²¡æœ‰ç»™å®ä¾‹åŒ–çš„å¯¹è±¡ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>slice</span> <span class=p>[]</span><span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=nx>slice</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=p>=</span> <span class=mi>0</span>
</span></span></code></pre></td></tr></table></div></div><p>æ­¤æ—¶sliceçš„å€¼æ˜¯nilï¼Œè¿™ç§æƒ…å†µå¯ä»¥â½¤äºéœ€è¦è¿”å›sliceçš„å‡½æ•°ï¼Œå½“å‡½æ•°å‡ºç°å¼‚å¸¸çš„æ—¶å€™ï¼Œä¿è¯å‡½æ•°ä¾ç„¶ä¼šæœ‰nilçš„è¿”å›å€¼ã€‚</p><p>empty slice æ˜¯æŒ‡sliceä¸ä¸ºnilï¼Œä½†æ˜¯sliceæ²¡æœ‰å€¼ï¼Œsliceçš„åº•å±‚çš„ç©ºé—´æ˜¯ç©ºçš„ï¼Œæ­¤æ—¶çš„å®šä¹‰ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>slice</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span><span class=mi>0</span><span class=err>ï¼‰</span>
</span></span><span class=line><span class=cl><span class=nx>slice</span> <span class=o>:=</span> <span class=p>[]</span><span class=kt>int</span><span class=p>{}</span>
</span></span></code></pre></td></tr></table></div></div><p>å½“æˆ‘ä»¬æŸ¥è¯¢æˆ–è€…å¤„ç†â¼€ä¸ªç©ºçš„åˆ—è¡¨çš„æ—¶å€™ï¼Œè¿™â¾®å¸¸æœ‰â½¤ï¼Œå®ƒä¼šå‘Šè¯‰æˆ‘ä»¬è¿”å›çš„æ˜¯â¼€ä¸ªåˆ—è¡¨ï¼Œä½†æ˜¯åˆ—è¡¨å†…æ²¡æœ‰ä»»ä½•å€¼ã€‚</p><p>æ€»ä¹‹ï¼Œnil slice å’Œ empty sliceæ˜¯ä¸åŒçš„ä¸œâ»„,éœ€è¦æˆ‘ä»¬åŠ ä»¥åŒºåˆ†çš„.</p></details><h4 id=-åç¨‹çº¿ç¨‹è¿›ç¨‹çš„åŒºåˆ«>ğŸ§‹ åç¨‹ï¼Œçº¿ç¨‹ï¼Œè¿›ç¨‹çš„åŒºåˆ«ã€‚</h4><ul><li>A. åç¨‹å’Œçº¿ç¨‹éƒ½å¯ä»¥å®ç°ç¨‹åºçš„å¹¶å‘æ‰§â¾ï¼›</li><li>B. çº¿ç¨‹â½åç¨‹æ›´è½»é‡çº§ï¼›</li><li>C. åç¨‹ä¸å­˜åœ¨æ­»é”é—®é¢˜ï¼›</li><li>D. é€šè¿‡ channel æ¥è¿›â¾åç¨‹é—´çš„é€šä¿¡ï¼›</li></ul><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>A D</em></span></span><h4 id=-äº’æ–¥é”è¯»å†™é”æ­»é”é—®é¢˜æ˜¯æ€ä¹ˆè§£å†³>ğŸƒ äº’æ–¥é”ï¼Œè¯»å†™é”ï¼Œæ­»é”é—®é¢˜æ˜¯æ€ä¹ˆè§£å†³ã€‚</h4><details><summary>å±•å¼€æŸ¥çœ‹è¯¦æƒ…</summary><p><strong>äº’æ–¥é”</strong></p><p><em>äº’æ–¥é”å°±æ˜¯äº’æ–¥å˜é‡mutexï¼Œâ½¤æ¥é”ä½ä¸´ç•ŒåŒºçš„.</em></p><p>æ¡ä»¶é”å°±æ˜¯æ¡ä»¶å˜é‡ï¼Œå½“è¿›ç¨‹çš„æŸäº›èµ„æºè¦æ±‚ä¸æ»¡â¾œæ—¶å°±è¿›â¼Šä¼‘çœ ï¼Œä¹Ÿå°±æ˜¯é”ä½äº†ã€‚å½“èµ„æºè¢«åˆ†é…åˆ°äº†ï¼Œæ¡ä»¶é”æ‰“å¼€ï¼Œè¿›ç¨‹ç»§ç»­è¿â¾ï¼›è¯»å†™é”ï¼Œä¹Ÿç±»ä¼¼ï¼Œâ½¤äºç¼“å†²åŒºç­‰ä¸´ç•Œèµ„æºèƒ½äº’æ–¥è®¿é—®çš„ã€‚</p><p><strong>è¯»å†™é”</strong></p><p><em>é€šå¸¸æœ‰äº›å…¬å…±æ•°æ®ä¿®æ”¹çš„æœºä¼šå¾ˆå°‘ï¼Œä½†å…¶è¯»çš„æœºä¼šå¾ˆå¤šã€‚å¹¶ä¸”åœ¨è¯»çš„è¿‡ç¨‹ä¸­ä¼šä¼´éšç€æŸ¥æ‰¾ï¼Œç»™è¿™ç§ä»£ç åŠ é”ä¼šé™ä½æˆ‘ä»¬çš„ç¨‹åºæ•ˆç‡ã€‚è¯»å†™é”å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</em></p><table><thead><tr><th>å½“å‰é”çš„çŠ¶æ€</th><th>è¯»é”è¯·æ±‚</th><th>å†™é”çš„è¯·æ±‚</th></tr></thead><tbody><tr><td>æ— é”</td><td>å¯ä»¥</td><td>å¯ä»¥</td></tr><tr><td>è¯»é”</td><td>å¯ä»¥</td><td>é˜»å¡</td></tr><tr><td>å†™é”</td><td>é˜»å¡</td><td>é˜»å¡</td></tr></tbody></table><p><em>æ³¨æ„ï¼šå†™ç‹¬å ï¼Œè¯»å…±äº«ï¼Œå†™é”ä¼˜å…ˆçº§â¾¼</em></p><p><strong>æ­»é”</strong></p><p>â¼€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœåŒâ¼€ä¸ªçº¿ç¨‹å…ˆåä¸¤æ¬¡è°ƒâ½¤lockï¼Œåœ¨ç¬¬â¼†æ¬¡è°ƒâ½¤æ—¶ï¼Œç”±äºé”å·²ç»è¢«å â½¤ï¼Œè¯¥çº¿ç¨‹ä¼šæŒ‚èµ·ç­‰å¾…åˆ«çš„çº¿ç¨‹é‡Šæ”¾é”ï¼Œç„¶â½½é”æ­£æ˜¯è¢«â¾ƒâ¼°å â½¤ç€çš„ï¼Œè¯¥çº¿ç¨‹â¼œè¢«æŒ‚èµ·â½½æ²¡æœ‰æœºä¼šé‡Šæ”¾é”ï¼Œå› æ­¤å°±æ°¸è¿œå¤„äºæŒ‚èµ·ç­‰å¾…çŠ¶æ€äº†ï¼Œè¿™å«åšæ­»é”ï¼ˆDeadlockï¼‰ã€‚ å¦å¤–â¼€ç§æƒ…å†µæ˜¯ï¼šè‹¥çº¿ç¨‹Aè·å¾—äº†é”1ï¼Œçº¿ç¨‹Bè·å¾—äº†é”2ï¼Œè¿™æ—¶çº¿ç¨‹Aè°ƒâ½¤lockè¯•å›¾è·å¾—é”2ï¼Œç»“æœæ˜¯éœ€è¦æŒ‚èµ·ç­‰å¾…çº¿ç¨‹Bé‡Šæ”¾é”2ï¼Œâ½½è¿™æ—¶çº¿ç¨‹Bä¹Ÿè°ƒâ½¤lockè¯•å›¾è·å¾—é”1ï¼Œç»“æœæ˜¯éœ€è¦æŒ‚èµ·ç­‰å¾…çº¿ç¨‹Aé‡Šæ”¾é”1ï¼Œäºæ˜¯çº¿ç¨‹Aå’ŒBéƒ½æ°¸è¿œå¤„äºæŒ‚èµ·çŠ¶æ€äº†ã€‚</p><p><strong>æ­»é”äº§â½£çš„å››ä¸ªå¿…è¦æ¡ä»¶:</strong></p><ol><li>äº’æ–¥æ¡ä»¶ï¼šâ¼€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«â¼€ä¸ªè¿›ç¨‹ä½¿â½¤</li><li>è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šâ¼€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºâ½½é˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚</li><li>ä¸å‰¥å¤ºæ¡ä»¶:è¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœ«ä½¿â½¤å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºâ¾å‰¥å¤ºã€‚</li><li>å¾ªç¯ç­‰å¾…æ¡ä»¶:è‹¥â¼²è¿›ç¨‹ä¹‹é—´å½¢æˆâ¼€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚ è¿™å››ä¸ªæ¡ä»¶æ˜¯æ­»é”çš„å¿…è¦æ¡ä»¶ï¼Œåªè¦ç³»ç»Ÿå‘â½£æ­»é”ï¼Œè¿™äº›æ¡ä»¶å¿…ç„¶æˆâ½´ï¼Œâ½½åªè¦ä¸Šè¿°æ¡ä»¶ä¹‹â¼€ä¸æ»¡â¾œï¼Œå°±ä¸ä¼šå‘â½£æ­»é”ã€‚</li></ol><p><strong>é¢„é˜²æ­»é”</strong></p><p>å¯ä»¥æŠŠèµ„æºâ¼€æ¬¡æ€§åˆ†é…ï¼šï¼ˆç ´åè¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼‰</p><p>ç„¶åå‰¥å¤ºèµ„æºï¼šå³å½“æŸè¿›ç¨‹æ–°çš„èµ„æºæœªæ»¡â¾œæ—¶ï¼Œé‡Šæ”¾å·²å æœ‰çš„èµ„æºï¼ˆç ´åä¸å¯å‰¥å¤ºæ¡ä»¶ï¼‰èµ„æºæœ‰åºåˆ†é…æ³•ï¼šç³»ç»Ÿç»™æ¯ç±»èµ„æºèµ‹äºˆâ¼€ä¸ªç¼–å·ï¼Œæ¯â¼€ä¸ªè¿›ç¨‹æŒ‰ç¼–å·é€’å¢çš„é¡ºåºè¯·æ±‚èµ„æºï¼Œé‡Šæ”¾åˆ™ç›¸åï¼ˆç ´åç¯è·¯ç­‰å¾…æ¡ä»¶ï¼‰</p><p><strong>é¿å…æ­»é”</strong></p><p>é¢„é˜²æ­»é”çš„â¼ç§ç­–ç•¥ï¼Œä¼šä¸¥é‡åœ°æŸå®³ç³»ç»Ÿæ€§èƒ½ã€‚å› æ­¤åœ¨é¿å…æ­»é”æ—¶ï¼Œè¦æ–½åŠ è¾ƒå¼±çš„é™åˆ¶ï¼Œä»â½½è·å¾— è¾ƒæ»¡æ„çš„ç³»ç»Ÿæ€§èƒ½ã€‚ç”±äºåœ¨é¿å…æ­»é”çš„ç­–ç•¥ä¸­ï¼Œå…è®¸è¿›ç¨‹åŠ¨æ€åœ°ç”³è¯·èµ„æºã€‚å› â½½ï¼Œç³»ç»Ÿåœ¨è¿›â¾èµ„æºåˆ†é…ä¹‹å‰é¢„å…ˆè®¡ç®—èµ„æºåˆ†é…çš„å®‰å…¨æ€§ã€‚è‹¥æ­¤æ¬¡åˆ†é…ä¸ä¼šå¯¼è‡´ç³»ç»Ÿè¿›â¼Šä¸å®‰å…¨çŠ¶æ€ï¼Œåˆ™å°†èµ„æºåˆ†é…ç»™è¿›ç¨‹ï¼›å¦åˆ™ï¼Œè¿›ç¨‹ç­‰å¾…ã€‚å…¶ä¸­æœ€å…·æœ‰ä»£è¡¨æ€§çš„é¿å…æ­»é”ç®—æ³•æ˜¯é“¶â¾å®¶ç®—æ³•ã€‚</p><p><strong>æ£€æµ‹æ­»é”</strong></p><p>â¾¸å…ˆä¸ºæ¯ä¸ªè¿›ç¨‹å’Œæ¯ä¸ªèµ„æºæŒ‡å®šâ¼€ä¸ªå”¯â¼€çš„å·ç ,ç„¶åå»ºâ½´èµ„æºåˆ†é…è¡¨å’Œè¿›ç¨‹ç­‰å¾…è¡¨.</p><p><strong>è§£é™¤æ­»é”</strong></p><p>å½“å‘ç°æœ‰è¿›ç¨‹æ­»é”åï¼Œä¾¿åº”â½´å³æŠŠå®ƒä»æ­»é”çŠ¶æ€ä¸­è§£è„±å‡ºæ¥ï¼Œå¸¸é‡‡â½¤çš„â½…æ³•æœ‰.</p><p><strong>å‰¥å¤ºèµ„æº</strong></p><p>ä»å…¶å®ƒè¿›ç¨‹å‰¥å¤ºâ¾œå¤Ÿæ•°é‡çš„èµ„æºç»™æ­»é”è¿›ç¨‹ï¼Œä»¥è§£é™¤æ­»é”çŠ¶æ€.</p><p><strong>æ’¤æ¶ˆè¿›ç¨‹</strong></p><p>å¯ä»¥ç›´æ¥æ’¤æ¶ˆæ­»é”è¿›ç¨‹æˆ–æ’¤æ¶ˆä»£ä»·æœ€â¼©çš„è¿›ç¨‹ï¼Œç›´â¾„æœ‰â¾œå¤Ÿçš„èµ„æºå¯â½¤ï¼Œæ­»é”çŠ¶æ€.æ¶ˆé™¤ä¸ºâ½Œ.æ‰€è°“ä»£ä»·æ˜¯æŒ‡ä¼˜å…ˆçº§ã€è¿â¾ä»£ä»·ã€è¿›ç¨‹çš„é‡è¦æ€§å’Œä»·å€¼ç­‰ã€‚</p></details><h4 id=-golangçš„å†…å­˜æ¨¡å‹ä¸ºä»€ä¹ˆå¯¹è±¡å¤šäº†ä¼šé€ æˆgcå‹>ğŸ„ Golangçš„å†…å­˜æ¨¡å‹ï¼Œä¸ºä»€ä¹ˆâ¼©å¯¹è±¡å¤šäº†ä¼šé€ æˆgcå‹â¼’ã€‚</h4><span class=hide-text><span class=check>--æŸ¥çœ‹ç­”æ¡ˆ--</span>
<span class=hide>ç­”æ¡ˆï¼š<em>é€šå¸¸â¼©å¯¹è±¡è¿‡å¤šä¼šå¯¼è‡´GCä¸‰â¾Šæ³•æ¶ˆè€—è¿‡å¤šçš„GPUã€‚ä¼˜åŒ–æ€è·¯æ˜¯ï¼Œå‡å°‘å¯¹è±¡åˆ†é….</em></span></span></div><div class=post-reward><input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>æ–‡ç« æœ‰å¸®åˆ°æ‚¨çš„è¯ï¼Œè¯·æˆ‘å–æ¯å¥¶èŒ¶å§ãƒ¾(â—Â´âˆ€ï½€â—)</label><div class=qr-code><label class=qr-code-image for=reward><img class=image src=/images/alipay.jpg>
<span>æ”¯ä»˜å®æ‰“èµ</span></label>
<label class=qr-code-image for=reward><img class=image src=/images/wepay.jpg>
<span>å¾®ä¿¡æ‰“èµ</span></label></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="2023-02-18 01:24:44">æ›´æ–°äº 2023-02-18&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8601/index.md title=é˜…è¯»åŸå§‹æ–‡æ¡£ class=link-to-markdown>é˜…è¯»åŸå§‹æ–‡æ¡£</a></span><span><a href=https://github.com/kendrickcheung/begi/edit/main/content/posts/Go%e8%af%ad%e8%a8%80/%e9%9d%a2%e8%af%95/%e5%90%8e%e7%ab%af%e9%9d%a2%e8%af%95%e9%a2%98%e9%9b%8601.zh-cn.md title=ç¼–è¾‘æ­¤é¡µ target=_blank rel="external nofollow noopener noreferrer" class=link-to-edit>ç¼–è¾‘æ­¤é¡µ</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="åˆ†äº«åˆ° Twitter" data-sharer=twitter data-url=https://kendrickcheung.github.io/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8601/ data-title=ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01 data-hashtags=interview,Golang><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° Facebook" data-sharer=facebook data-url=https://kendrickcheung.github.io/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8601/ data-hashtag=interview><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° Hacker News" data-sharer=hackernews data-url=https://kendrickcheung.github.io/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8601/ data-title=ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01><i class="fa-brands fa-hacker-news fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° Line" data-sharer=line data-url=https://kendrickcheung.github.io/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8601/ data-title=ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01><i data-svg-src=/lib/simple-icons/icons/line.min.svg aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° å¾®åš" data-sharer=weibo data-url=https://kendrickcheung.github.io/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8601/ data-title=ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†01><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/interview/>é¢è¯•</a>,&nbsp;<a href=/tags/golang/>Goè¯­è¨€</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=/go%E8%AF%AD%E8%A8%80%E9%9D%A2%E8%AF%95%E9%A2%98/ class=prev rel=prev title=ã€é¢è¯•ã€‘Goå¸¸è§é¢è¯•é¢˜ã€ç”±æµ…å…¥æ·±ã€‘2022ç‰ˆ><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>ã€é¢è¯•ã€‘Goå¸¸è§é¢è¯•é¢˜ã€ç”±æµ…å…¥æ·±ã€‘2022ç‰ˆ</a>
<a href=/%E5%90%8E%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%8602/ class=next rel=next title=ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†02>ã€é¢è¯•ã€‘åç«¯é¢è¯•é¢˜é›†02<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=kendrickcheung/kendrickcheung.github.io data-repo-id=R_kgDOILbtyQ data-category=General data-category-id=DIC_kwDOILbtyc4CR5sB data-mapping=title data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=zh-CN data-loading=lazy crossorigin=anonymous async defer></script><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></div></article></main><footer class=footer><div class=footer-container><div class="footer-line powered">ç”± <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.110.0">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.2.17-RC"><img class=fixit-icon src=/fixit.min.svg alt="FixIt logo">&nbsp;FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2021 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=https://kendrickcheung.github.io/ target=_blank rel="external nofollow noopener noreferrer">Kendrick</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"><span class=site-time title='ç½‘ç«™è¿è¡Œä¸­ ...'><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden=true></i>&nbsp;<span class=run-times>ç½‘ç«™è¿è¡Œä¸­ ...</span></span></div><div class="footer-line ibruce"><span id=busuanzi_container_site_uv title=æ€»è®¿å®¢æ•°><i class="fa-regular fa-user fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title=æ€»è®¿é—®é‡><i class="fa-regular fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=å›åˆ°é¡¶éƒ¨><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label=æŸ¥çœ‹è¯„è®º><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/kendrickcheung/begi title="åœ¨ GitHub ä¸ŠæŸ¥çœ‹æºä»£ç " target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0;--bg-progress:#000;--bg-progress-dark:#fff></div><noscript><div class=noscript-warning>FixIt ä¸»é¢˜åœ¨å¯ç”¨ JavaScript çš„æƒ…å†µä¸‹æ•ˆæœæœ€ä½³ã€‚</div></noscript></div><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/algoliasearch/algoliasearch-lite.umd.min.js defer></script><script src=/lib/lazysizes/lazysizes.min.js async defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script src=/lib/pangu/pangu.min.js defer></script><script src=/lib/cell-watermark/watermark.min.js defer></script><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",editLockTitle:"é”å®šå¯ç¼–è¾‘ä»£ç å—",editUnLockTitle:"è§£é”å¯ç¼–è¾‘ä»£ç å—",editable:!0,maxShownLines:10},comment:{enable:!0,giscus:{darkTheme:"dark_dimmed",lightTheme:"light"}},cookieconsent:{content:{dismiss:"åŒæ„",link:"äº†è§£æ›´å¤š",message:"æœ¬ç½‘ç«™ä½¿ç”¨ Cookies æ¥æ”¹å–„æ‚¨çš„æµè§ˆä½“éªŒã€‚"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},enablePWA:!0,enablePangu:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{algoliaAppID:"2R1K9SKLQZ",algoliaIndex:"index.zh-cn",algoliaSearchKey:"4a226aa1c5c98d6859e4d1386adb2bc7",highlightTag:"em",maxResultLength:10,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:50,type:"algolia"},siteTime:"2021-12-18T16:15:22+08:00",watermark:{content:'\u003cimg class="fixit-icon" src="/fixit.min.svg" alt="FixIt logo" /\u003e FixIt ä¸»é¢˜',enable:!0,height:21,opacity:.0125}}</script><script src=/js/theme.min.js defer></script><script src=/js/custom.min.js defer></script></body></html>